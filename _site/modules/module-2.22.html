<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.533">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>IAFF 6501–Spring 2024 Schedule - Module 2.2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/iaff6501-logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script><script src="../site_libs/plotly-binding-4.10.3/plotly.js"></script><script src="../site_libs/typedarray-0.1/typedarray.min.js"></script><script src="../site_libs/jquery-3.5.1/jquery.min.js"></script><link href="../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<meta property="og:title" content="IAFF 6501–Spring 2024 Schedule - Module 2.2">
<meta property="og:description" content="Accessibility, Clarity and Interactivity">
<meta property="og:site_name" content="IAFF 6501--Spring 2024 Schedule">
<meta name="twitter:title" content="IAFF 6501–Spring 2024 Schedule - Module 2.2">
<meta name="twitter:description" content="Accessibility, Clarity and Interactivity">
<meta name="twitter:card" content="summary">
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Module 2.2</li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/iaff6501-logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none"></a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://blackboard.gwu.edu" title="Blackboard" class="quarto-navigation-tool px-1" aria-label="Blackboard"><i class="bi bi-mortarboard-fill"></i></a>
    <a href="https://classroom.github.com" title="Github Classroom" class="quarto-navigation-tool px-1" aria-label="Github Classroom"><i class="bi bi-github"></i></a>
    <a href="https://posit.co/download/rstudio-desktop" title="RStudio Desktop" class="quarto-navigation-tool px-1" aria-label="RStudio Desktop"><i class="bi bi-r-project"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">Course Information</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-support.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Support</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../instructor.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Instructor</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-links.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Useful links</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Weekly Materials</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 1</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">Homework</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/homework-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/homework-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/homework-3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework 3</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
 <span class="menu-text">Final Project</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/project-description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Final Project</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/project-datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datasets</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
 <span class="menu-text">Course Modules</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/module-1.1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Module 1.1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/module-1.2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Module 1.2</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li>
<a href="#color-schemes" id="toc-color-schemes" class="nav-link" data-scroll-target="#color-schemes">Color schemes</a>
  <ul class="collapse">
<li><a href="#create-your-own-colorblind-friendly-color-scheme" id="toc-create-your-own-colorblind-friendly-color-scheme" class="nav-link" data-scroll-target="#create-your-own-colorblind-friendly-color-scheme">Create your own colorblind-friendly color scheme</a></li>
  <li><a href="#use-viridis" id="toc-use-viridis" class="nav-link" data-scroll-target="#use-viridis">Use viridis</a></li>
  <li><a href="#use-colorbrewer" id="toc-use-colorbrewer" class="nav-link" data-scroll-target="#use-colorbrewer">Use ColorBrewer</a></li>
  <li><a href="#scaling-for-scatter-plots-and-line-charts" id="toc-scaling-for-scatter-plots-and-line-charts" class="nav-link" data-scroll-target="#scaling-for-scatter-plots-and-line-charts">Scaling for scatter plots and line charts</a></li>
  </ul>
</li>
  <li><a href="#themes" id="toc-themes" class="nav-link" data-scroll-target="#themes">Themes</a></li>
  <li><a href="#annotations" id="toc-annotations" class="nav-link" data-scroll-target="#annotations">Annotations</a></li>
  <li><a href="#interactivity" id="toc-interactivity" class="nav-link" data-scroll-target="#interactivity">Interactivity</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/eteitelbaum/dataviz-summer-2023/edit/main/modules/module-2.22.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/eteitelbaum/dataviz-summer-2023/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">Module 2.2</h1>
<p class="subtitle lead">Accessibility, Clarity and Interactivity</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Prework
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Install <code>plotly</code> (<code>install.packages("plotly")</code>) and have a look at the <a href="https://plotly.com/ggplot2/getting-started/#plotly-for-r">documentation</a>
</li>
<li>Install <code>colorBlindness</code> (<code>install.packages("colorBlindness")</code>) and read this <a href="https://cran.r-project.org/web/packages/colorBlindness/vignettes/colorBlindness.html">vignette</a>
</li>
<li>Generate a quarto document named “module-2.2.qmd” in your “modules” project folder so that you can code along with me</li>
<li>In your quarto document, run these code chunks and familiarize yourself the data frames that they generate</li>
<li>Note the use of <code><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na()</a></code> from the <code>tidyr</code> package in constructing the <code>flfp_gdp</code> data frame. <code><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na()</a></code> is a convenient function for dropping rows with missing values.</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org">readr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/nset-ornl/wbstats">wbstats</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://vincentarelbundock.github.io/countrycode/">countrycode</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">indicators</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>flfp <span class="op">=</span> <span class="st">"SL.TLF.CACT.FE.ZS"</span>, gdp_pc <span class="op">=</span> <span class="st">"NY.GDP.PCAP.KD"</span><span class="op">)</span> <span class="co"># define indicators</span></span>
<span></span>
<span><span class="co">## Regional levels of FLFP for column chart </span></span>
<span></span>
<span><span class="va">flfp_gdp_regions</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/wbstats/man/wb_data.html">wb_data</a></span><span class="op">(</span><span class="st">"SL.TLF.CACT.FE.ZS"</span>, country <span class="op">=</span> <span class="st">"regions_only"</span>, mrnev <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span></span>
<span>    region <span class="op">=</span> <span class="va">country</span>,</span>
<span>    year <span class="op">=</span> <span class="va">date</span>,</span>
<span>    flfp <span class="op">=</span> <span class="va">SL.TLF.CACT.FE.ZS</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">region</span>, <span class="va">iso3c</span>, <span class="va">year</span>, <span class="va">flfp</span><span class="op">)</span></span>
<span>  </span>
<span><span class="va">flfp_gdp_regions</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 4
  region                     iso3c  year  flfp
  &lt;chr&gt;                      &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
1 East Asia &amp; Pacific        EAS    2022  59.0
2 Europe &amp; Central Asia      ECS    2022  50.5
3 Latin America &amp; Caribbean  LCN    2022  51.0
4 Middle East &amp; North Africa MEA    2022  18.8
5 North America              NAC    2022  56.9
6 South Asia                 SAS    2022  25.6
7 Sub-Saharan Africa         SSF    2022  60.9</code></pre>
</div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">## Cross-section of data on FLFP and GDP per capita for scatter plot</span></span>
<span></span>
<span><span class="va">flfp_gdp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/wbstats/man/wb_data.html">wb_data</a></span><span class="op">(</span><span class="va">indicators</span>, end_date <span class="op">=</span> <span class="fl">2021</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># download data for 2021</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/wbstats/man/wb_end_point_info.html">wb_countries</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">iso3c</span>, <span class="va">region</span><span class="op">)</span><span class="op">)</span>, by <span class="op">=</span> <span class="st">"iso3c"</span><span class="op">)</span> <span class="op">|&gt;</span>  <span class="co"># add regions</span></span>
<span>    <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># drop rows with missing values</span></span>
<span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">flfp_gdp</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 179
Columns: 7
$ iso2c   &lt;chr&gt; "AO", "AL", "AE", "AR", "AM", "AU", "AT", "AZ", "BI", "BE", "B…
$ iso3c   &lt;chr&gt; "AGO", "ALB", "ARE", "ARG", "ARM", "AUS", "AUT", "AZE", "BDI",…
$ country &lt;chr&gt; "Angola", "Albania", "United Arab Emirates", "Argentina", "Arm…
$ date    &lt;dbl&gt; 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021, 20…
$ gdp_pc  &lt;dbl&gt; 2387.4299, 4857.1119, 42715.4402, 12444.3183, 4526.5975, 59225…
$ flfp    &lt;dbl&gt; 74.464, 51.653, 52.789, 50.283, 57.779, 61.216, 55.915, 64.097…
$ region  &lt;chr&gt; "Sub-Saharan Africa", "Europe &amp; Central Asia", "Middle East &amp; …</code></pre>
</div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">## Time series data on regional trends in FLFP for line chart</span></span>
<span></span>
<span><span class="va">flfp_ts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/wbstats/man/wb_data.html">wb_data</a></span><span class="op">(</span><span class="st">"SL.TLF.CACT.FE.ZS"</span>, country <span class="op">=</span> <span class="st">"regions_only"</span>, start_date <span class="op">=</span> <span class="fl">1990</span>, end_date <span class="op">=</span> <span class="fl">2022</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span></span>
<span>    region <span class="op">=</span> <span class="va">country</span>,</span>
<span>    year <span class="op">=</span> <span class="va">date</span>,</span>
<span>    flfp <span class="op">=</span> <span class="va">SL.TLF.CACT.FE.ZS</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">region</span>, <span class="va">iso3c</span>, <span class="va">year</span>, <span class="va">flfp</span><span class="op">)</span></span>
<span>  </span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">flfp_ts</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 231
Columns: 4
$ region &lt;chr&gt; "East Asia &amp; Pacific", "East Asia &amp; Pacific", "East Asia &amp; Paci…
$ iso3c  &lt;chr&gt; "EAS", "EAS", "EAS", "EAS", "EAS", "EAS", "EAS", "EAS", "EAS", …
$ year   &lt;dbl&gt; 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 200…
$ flfp   &lt;dbl&gt; 66.32925, 66.12070, 66.00342, 65.68375, 65.65046, 65.50232, 65.…</code></pre>
</div>
</div>
</div>
</div>
<section id="overview" class="level2"><h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>In this module we are going to take our visualizations from Module 2.1 and improve them. In the first part of the lesson we are going to focused on how to make your visualizations accessible to a color-blind audience. Then we will discuss how to improve the look of your visualizations with themes and to provide additional information and context with annotations. Finally, we will spend some time talking about how to make your graphs interactive so that users can explore them in a more dynamic and flexible way.</p>
</section><section id="color-schemes" class="level2"><h2 class="anchored" data-anchor-id="color-schemes">Color schemes</h2>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/fBCtSjg_-Ik" title="Accessible Color Schemes" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>There are a number of different <a href="https://www.nei.nih.gov/learn-about-eye-health/eye-conditions-and-diseases/color-blindness/types-color-blindness">types</a> of color blindness, but the most common type is red-green color blindness. Making your visualizations colorblind-accessible can be important for convincing <a href="https://towardsdatascience.com/is-your-color-palette-stopping-you-from-reaching-your-goals-bf3b32d2ac49">certain audiences</a>. Most notably, approximately 8% of men are affected by color blindness.</p>
<p>Let’s start off by looking at the line chart that we did in the last module pertaining to Huntington’s three waves of democratization:</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dem_waves_ctrs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"data/dem_waves_ctrs.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dem_waves_chart</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">dem_waves_ctrs</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">polyarchy</span>, color <span class="op">=</span> <span class="va">country</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Year"</span>, </span>
<span>    y <span class="op">=</span> <span class="st">"Polyarchy Score"</span>, </span>
<span>    title <span class="op">=</span> <span class="st">'Democracy in countries representing three different "waves"'</span>, </span>
<span>    caption <span class="op">=</span> <span class="st">"Source: V-Dem Institute"</span>, </span>
<span>    color <span class="op">=</span> <span class="st">"Country"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">dem_waves_chart</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/dem_waves-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The problem with this plot is that people with red-green color blindness will not be able to distinguish between the lines for Japan and Portungal. There are many tools that we could use to see how this is true, but here we are going to focus on the color vision deficiency (CVD) simulator from the <a href="https://cran.r-project.org/web/packages/colorBlindness/vignettes/colorBlindness.html">colorBlindness</a> package. To use it, all we have to do is load <code>colorBlindness</code> and call <code><a href="https://rdrr.io/pkg/colorBlindness/man/cvdPlot.html">cvdPlot()</a></code> on the stored plot.</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">colorBlindness</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/colorBlindness/man/cvdPlot.html">cvdPlot</a></span><span class="op">(</span><span class="va">dem_waves_chart</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/dem_waves_cvd-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>In this output, we can see how deuteranopia and protonopia (red-green color blindness) would experience our plot. Notice how hard it is to distinguish between Japan and Portugal here. We can also see how someone with monochromatic vision would see the plot by looking at the “desaturated (BW)” plot. While monochromatic vision is very rare, we can use this plot to make adjustments for a worst-case scenario.</p>
<p>So once you determine that your color scheme is not colorblind friendly, what should you do? There are two basic solutions available to you: making your own colorblind friendly color scheme or use a package that produces colorblind-friendly schemes for you.</p>
<section id="create-your-own-colorblind-friendly-color-scheme" class="level3"><h3 class="anchored" data-anchor-id="create-your-own-colorblind-friendly-color-scheme">Create your own colorblind-friendly color scheme</h3>
<p>The first way to make your plot more accessible is to create your own <a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">discrete scale</a> using <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual()</a></code> or <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a></code> (depending on what type of plot you are trying to draw).</p>
<p>Let’s try using an <a href="http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/">example</a> color scheme from the R Cookbook to fill in the bars of a column chart. Here we will make use of the regional levels of female labor force participation data that we prepped in the prework section of this module. First we create a vector of colors called <code>cb_palette</code>. Then we build our bar chart and save it as an object called <code>flfp_region</code>. Crucially, when we perform our ggplot call, we include <code>fill = region</code> as a third dimension in our <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> function. This is in addition to including the region code <code>iso3c</code> on the x-axis. Finally, we use our palette to shade our bars using <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual()</a></code>.</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cb_palette</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#E69F00"</span>, <span class="st">"#56B4E9"</span>, <span class="st">"#009E73"</span>, <span class="st">"#F0E442"</span>, <span class="st">"#0072B2"</span>, <span class="st">"#D55E00"</span>, <span class="st">"#CC79A7"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">flfp_region</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">flfp_gdp_regions</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">iso3c</span>, <span class="op">-</span><span class="va">flfp</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">flfp</span>, fill <span class="op">=</span> <span class="va">region</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_percent.html">label_percent</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Region"</span>, </span>
<span>    y <span class="op">=</span> <span class="st">"Avg. Female Labor Force Participation"</span>, </span>
<span>    title <span class="op">=</span> <span class="st">"Levels of female labor force participation by region"</span>, </span>
<span>    fill <span class="op">=</span> <span class="st">"Region"</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Source: World Bank"</span></span>
<span>    <span class="op">)</span> </span>
<span></span>
<span><span class="va">flfp_region</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="va">cb_palette</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/flfp_region-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Now we can check our visualization using the <code><a href="https://rdrr.io/pkg/colorBlindness/man/cvdPlot.html">cvdPlot()</a></code> function from the <code>colorBlindness</code> package.</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">flfp_region</span> <span class="op">&lt;-</span> <span class="va">flfp_region</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="va">cb_palette</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/colorBlindness/man/cvdPlot.html">cvdPlot</a></span><span class="op">(</span><span class="va">flfp_region</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/flfp_region_cvd-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Although it would still be difficult for a person with red-green color blindness to see some of the colors in the chart (like the pink of SSF or the bright green of LAC), it would still be possible for them to distinguish the colors of the bars based on what would appear to them as shades of grey.</p>
</section><section id="use-viridis" class="level3"><h3 class="anchored" data-anchor-id="use-viridis">Use viridis</h3>
<p>Another option is to use a package designed with accessibility issues in mind. One of the more popular ones is the <a href="https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html">viridis()</a> package. To use it just load <code>viridis</code> and add a <code>viridis</code> color scheme to the plot. You have the option of choosing continuous, discrete or binned color schemes but here we use the discrete option <code><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_fill_viridis_d()</a></code> because our regions constitute a discrete variable. You can also try different <code>viridis</code> color maps by inserting the various available schemes in the function. For example you can get the “plasma” map with `scale_fill_viridis_d(option = “plasma”). The default map is “viridis.”</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">flfp_region</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_fill_viridis_d</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/viridis-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Now let’s run our bar chart with the <code>viridis</code> color mapping through <code>cvdPlot</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">flfp_region</span> <span class="op">&lt;-</span> <span class="va">flfp_region</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_fill_viridis_d</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/colorBlindness/man/cvdPlot.html">cvdPlot</a></span><span class="op">(</span><span class="va">flfp_region</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/viridis_cvd-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>This is pretty good. In fact it looks fairly close to the original. It is even to easy to see the differences in colors when looking at the desaturated output. Of course the first column for the black and white plot is difficult to distinguish from the plot’s background, but we will learn how to change this up later in this module.</p>
</section><section id="use-colorbrewer" class="level3"><h3 class="anchored" data-anchor-id="use-colorbrewer">Use ColorBrewer</h3>
<p>Another package available to us is the <a href="https://cran.r-project.org/web/packages/RColorBrewer/index.html">RColorBrewer</a> package. Technically, <code>RColorBrewer</code> is a separate package but its color mappings come <a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">available</a> as part of <code>ggplot2</code>, so we don’t have to load <code>RColorBrewer</code> in order to use it with <code>ggplot2</code>. We can also use the color brewer <a href="https://colorbrewer2.org/">palette selector tool</a> to help select palettes that are “colorblind safe.”</p>
<p>Let’s try updating our column chart with a ColorBrewer color scheme:</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">flfp_region</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"YlGn"</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/brewer-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>And now lets run it through the <code><a href="https://rdrr.io/pkg/colorBlindness/man/cvdPlot.html">cvdPlot()</a></code> function.</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">flfp_region</span> <span class="op">&lt;-</span> <span class="va">flfp_region</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"YlGn"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/colorBlindness/man/cvdPlot.html">cvdPlot</a></span><span class="op">(</span><span class="va">flfp_region</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/brewer_cvd-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</section><section id="scaling-for-scatter-plots-and-line-charts" class="level3"><h3 class="anchored" data-anchor-id="scaling-for-scatter-plots-and-line-charts">Scaling for scatter plots and line charts</h3>
<p>One thing to note is that when we want to adjust the color scheme for a scatter plot or line chart, we should use “scale_color” instead of “scale_fill”, e.g.&nbsp;<code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a></code>, <code><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_d()</a></code>, <code>scale_color_brewer</code>. Let’s try a couple of examples. First, let’s add a <code>viridis</code> color map to a scatter plot. We will use the flfp_gdp data we prepped in the prework section to generate our scatter plot.</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">wealth_flfp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">flfp_gdp</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">gdp_pc</span>, y <span class="op">=</span> <span class="va">flfp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">region</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co"># color points by region</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"loess"</span>, linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>  <span class="co"># make the line a loess curve</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_log10</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_dollar.html">label_dollar</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co"># stretch axis, add '$' format</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_percent.html">label_percent</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co"># add % label</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    x<span class="op">=</span> <span class="st">"GDP per Capita"</span>, <span class="co"># x-axis title</span></span>
<span>    y <span class="op">=</span> <span class="st">"Female Labor Force Participation"</span>, <span class="co"># y-axis title</span></span>
<span>    title <span class="op">=</span> <span class="st">"Wealth and female labor force participation"</span>, <span class="co"># plot title</span></span>
<span>    caption <span class="op">=</span> <span class="st">"Source: World Bank Development Indicators"</span>, <span class="co"># caption</span></span>
<span>    color <span class="op">=</span> <span class="st">"Region"</span> <span class="co"># legend title</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="va">wealth_flfp</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_d</a></span><span class="op">(</span>option <span class="op">=</span> <span class="st">"plasma"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/scale_color_viridis()-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Now let’s try adding a ColorBrewer scheme to a line chart. Here we will use the <code>flfp_ts</code> data frame that we prepped in our prework routine.</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">flfp_line</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">flfp_ts</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">flfp</span>, color <span class="op">=</span> <span class="va">region</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_percent.html">label_percent</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Year"</span>, </span>
<span>    y <span class="op">=</span> <span class="st">"Female Labor Force Participation"</span>, </span>
<span>    title <span class="op">=</span> <span class="st">"Regional trends in female labor force participation"</span>, </span>
<span>    caption <span class="op">=</span> <span class="st">"Source: V-Dem Institute"</span>, </span>
<span>    color <span class="op">=</span> <span class="st">"Country"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">flfp_line</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"YlOrRd"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/scale_color_brewer()-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section></section><section id="themes" class="level2"><h2 class="anchored" data-anchor-id="themes">Themes</h2>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/Le0OJXdsy3o" title="Themes" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>Another thing that we can do to improve the overall look of our plots is to change the theme. Here is a list of <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">themes</a> that are available with <code>ggplot2</code>.</p>
<p>There are also many <a href="https://towardsdatascience.com/themes-to-spice-up-visualizations-with-ggplot2-3e275038dafa">extension packages</a> that you can use to apply even more themes, some of which we may encounter later in the course.</p>
<p>For now, let’s take a couple of plots that we developed earlier in the lesson and apply some <code>ggplot2</code> themes to them. We can do this by simply adding the name of the theme to our code.</p>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">wealth_flfp</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_d</a></span><span class="op">(</span>option <span class="op">=</span> <span class="st">"plasma"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_dark</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/theme_dark()-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">flfp_region</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"YlGn"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/theme_minimal()-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="annotations" class="level2"><h2 class="anchored" data-anchor-id="annotations">Annotations</h2>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/uEpBMgWilXc" title="annotations" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>Sometimes it makes sense to include annotations in our charts. We can achieve this by applying the annotate() function. To add a text annotation, we include “text” for the first argument, then the value of x and y at which we want our annotation to appear, and finally the text of the annotation that we want to display. Let’s try adding text to our indicating where high-, middle- and low-income countries are concentraed on the <code>wealth_flfp</code> scatter plot that we developed earlier.</p>
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">wealth_flfp</span> <span class="op">&lt;-</span> <span class="va">wealth_flfp</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_d</a></span><span class="op">(</span>option <span class="op">=</span> <span class="st">"plasma"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">wealth_flfp</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, x <span class="op">=</span> <span class="fl">90000</span>, y <span class="op">=</span> <span class="fl">75</span>, label <span class="op">=</span> <span class="st">"Wealthy"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, x <span class="op">=</span> <span class="fl">1000</span>, y <span class="op">=</span> <span class="fl">80</span>, label <span class="op">=</span> <span class="st">"Low income"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, x <span class="op">=</span> <span class="fl">10000</span>, y <span class="op">=</span> <span class="fl">20</span>, label <span class="op">=</span> <span class="st">"Middle income"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/annotate1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Another common annotation involves combining text with a horizontal or vertical reference line. For a horizontal intercept line we include an additional geom called <code>geom_hline</code>. The first argument is the value <code>yintercept</code> where we want the reference line to cross. Then we can add additional arguments to define the style, color and size of the line.</p>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">flfp_line</span> <span class="op">&lt;-</span> <span class="va">flfp_line</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_d</a></span><span class="op">(</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">flfp_line</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline</a></span><span class="op">(</span>yintercept<span class="op">=</span><span class="fl">52</span>, linetype<span class="op">=</span><span class="st">"dashed"</span>, color <span class="op">=</span> <span class="st">"red"</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, x <span class="op">=</span> <span class="fl">1995</span>, y <span class="op">=</span> <span class="fl">55</span>, label <span class="op">=</span> <span class="st">"Global average"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/annotate2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The same logic applies for a vertical reference line, except this time the geom is called <code>geom_vline</code> and the first argument, <code>xintercept</code>, is the point at which we want the line to cross the x-axis.</p>
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">flfp_line</span> <span class="op">&lt;-</span> <span class="va">flfp_line</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_d</a></span><span class="op">(</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">flfp_line</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>xintercept<span class="op">=</span><span class="fl">2020</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, x <span class="op">=</span> <span class="fl">2017</span>, y <span class="op">=</span> <span class="fl">35</span>, label <span class="op">=</span> <span class="st">"Pandemic"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="module-2.22_files/figure-html/annotate3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="interactivity" class="level2"><h2 class="anchored" data-anchor-id="interactivity">Interactivity</h2>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/T-7jtbcwaJ0" title="Interactivity" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>One final thing we can do, which is really fun, is to add interactivity to our plots with <a href="https://plotly.com/r/">plotly</a>. We can do this by simply calling <a href="https://plotly.com/ggplot2/">ggplotly()</a> on our plot object.</p>
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://plotly-r.com">plotly</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/ggplotly.html">ggplotly</a></span><span class="op">(</span><span class="va">flfp_line</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-a294c300ad92deb5e1eb" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a294c300ad92deb5e1eb">{"x":{"data":[{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[66.329249091087206,66.120698848607205,66.003421014175402,65.683747347849803,65.650464546942501,65.502319901816307,65.370960328500402,65.131481454192098,64.927335217406295,64.700875826577203,64.540042317755805,63.995784902842999,63.334937747862703,62.821534062200001,62.312756236255403,61.875418636414501,61.4422701383074,61.427421983234403,60.988460282314101,60.505588119381002,60.065186839366703,60.163781080227203,59.988015767142997,59.732999344549697,59.686021614743197,59.567565355032897,59.3764968182359,59.141039303904698,59.154005204451899,59.139516833569303,57.282713569583201,58.9494030444637,59.024814961480701],"text":["year: 1990<br />flfp: 66.32925<br />region: East Asia & Pacific","year: 1991<br />flfp: 66.12070<br />region: East Asia & Pacific","year: 1992<br />flfp: 66.00342<br />region: East Asia & Pacific","year: 1993<br />flfp: 65.68375<br />region: East Asia & Pacific","year: 1994<br />flfp: 65.65046<br />region: East Asia & Pacific","year: 1995<br />flfp: 65.50232<br />region: East Asia & Pacific","year: 1996<br />flfp: 65.37096<br />region: East Asia & Pacific","year: 1997<br />flfp: 65.13148<br />region: East Asia & Pacific","year: 1998<br />flfp: 64.92734<br />region: East Asia & Pacific","year: 1999<br />flfp: 64.70088<br />region: East Asia & Pacific","year: 2000<br />flfp: 64.54004<br />region: East Asia & Pacific","year: 2001<br />flfp: 63.99578<br />region: East Asia & Pacific","year: 2002<br />flfp: 63.33494<br />region: East Asia & Pacific","year: 2003<br />flfp: 62.82153<br />region: East Asia & Pacific","year: 2004<br />flfp: 62.31276<br />region: East Asia & Pacific","year: 2005<br />flfp: 61.87542<br />region: East Asia & Pacific","year: 2006<br />flfp: 61.44227<br />region: East Asia & Pacific","year: 2007<br />flfp: 61.42742<br />region: East Asia & Pacific","year: 2008<br />flfp: 60.98846<br />region: East Asia & Pacific","year: 2009<br />flfp: 60.50559<br />region: East Asia & Pacific","year: 2010<br />flfp: 60.06519<br />region: East Asia & Pacific","year: 2011<br />flfp: 60.16378<br />region: East Asia & Pacific","year: 2012<br />flfp: 59.98802<br />region: East Asia & Pacific","year: 2013<br />flfp: 59.73300<br />region: East Asia & Pacific","year: 2014<br />flfp: 59.68602<br />region: East Asia & Pacific","year: 2015<br />flfp: 59.56757<br />region: East Asia & Pacific","year: 2016<br />flfp: 59.37650<br />region: East Asia & Pacific","year: 2017<br />flfp: 59.14104<br />region: East Asia & Pacific","year: 2018<br />flfp: 59.15401<br />region: East Asia & Pacific","year: 2019<br />flfp: 59.13952<br />region: East Asia & Pacific","year: 2020<br />flfp: 57.28271<br />region: East Asia & Pacific","year: 2021<br />flfp: 58.94940<br />region: East Asia & Pacific","year: 2022<br />flfp: 59.02481<br />region: East Asia & Pacific"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(68,1,84,1)","dash":"solid"},"hoveron":"points","name":"East Asia & Pacific","legendgroup":"East Asia & Pacific","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[49.270537826864803,49.585723283781398,49.339577160652702,48.569101055400303,48.520283704550302,48.347800376839601,48.176024271535503,47.953127309984701,47.978713173319001,48.884331680519999,48.816356521491002,48.601939240471999,48.812536235461799,48.814472850317102,48.720406514076799,48.974824675683401,49.191263615036704,49.386684405381096,49.607429197153799,49.825236353040097,49.901362503775701,50.098640640721698,50.305183432865903,50.374449864626499,50.420633843812801,50.4411391988031,50.676453009582097,50.783734200600698,50.861998291225802,50.891021919253099,50.047469110306302,50.606267480176001,50.487253260589199],"text":["year: 1990<br />flfp: 49.27054<br />region: Europe & Central Asia","year: 1991<br />flfp: 49.58572<br />region: Europe & Central Asia","year: 1992<br />flfp: 49.33958<br />region: Europe & Central Asia","year: 1993<br />flfp: 48.56910<br />region: Europe & Central Asia","year: 1994<br />flfp: 48.52028<br />region: Europe & Central Asia","year: 1995<br />flfp: 48.34780<br />region: Europe & Central Asia","year: 1996<br />flfp: 48.17602<br />region: Europe & Central Asia","year: 1997<br />flfp: 47.95313<br />region: Europe & Central Asia","year: 1998<br />flfp: 47.97871<br />region: Europe & Central Asia","year: 1999<br />flfp: 48.88433<br />region: Europe & Central Asia","year: 2000<br />flfp: 48.81636<br />region: Europe & Central Asia","year: 2001<br />flfp: 48.60194<br />region: Europe & Central Asia","year: 2002<br />flfp: 48.81254<br />region: Europe & Central Asia","year: 2003<br />flfp: 48.81447<br />region: Europe & Central Asia","year: 2004<br />flfp: 48.72041<br />region: Europe & Central Asia","year: 2005<br />flfp: 48.97482<br />region: Europe & Central Asia","year: 2006<br />flfp: 49.19126<br />region: Europe & Central Asia","year: 2007<br />flfp: 49.38668<br />region: Europe & Central Asia","year: 2008<br />flfp: 49.60743<br />region: Europe & Central Asia","year: 2009<br />flfp: 49.82524<br />region: Europe & Central Asia","year: 2010<br />flfp: 49.90136<br />region: Europe & Central Asia","year: 2011<br />flfp: 50.09864<br />region: Europe & Central Asia","year: 2012<br />flfp: 50.30518<br />region: Europe & Central Asia","year: 2013<br />flfp: 50.37445<br />region: Europe & Central Asia","year: 2014<br />flfp: 50.42063<br />region: Europe & Central Asia","year: 2015<br />flfp: 50.44114<br />region: Europe & Central Asia","year: 2016<br />flfp: 50.67645<br />region: Europe & Central Asia","year: 2017<br />flfp: 50.78373<br />region: Europe & Central Asia","year: 2018<br />flfp: 50.86200<br />region: Europe & Central Asia","year: 2019<br />flfp: 50.89102<br />region: Europe & Central Asia","year: 2020<br />flfp: 50.04747<br />region: Europe & Central Asia","year: 2021<br />flfp: 50.60627<br />region: Europe & Central Asia","year: 2022<br />flfp: 50.48725<br />region: Europe & Central Asia"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(68,58,131,1)","dash":"solid"},"hoveron":"points","name":"Europe & Central Asia","legendgroup":"Europe & Central Asia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[42.250062497114001,42.502087757111802,43.157123250370802,43.891097871448601,44.5690110214653,45.355568556467801,45.197927136118999,46.287749639988498,46.749169577972403,47.024347790799702,47.1586154310599,47.694716089156799,48.195735642436802,48.672211267167803,49.457401466547999,50.191735218453303,50.515742364033898,50.468960108197898,50.446196333675303,51.028501365115901,50.591700254879797,50.212780947920102,50.7939794369087,50.665923470501198,50.4657722277651,50.707430357919002,50.796018942117897,51.1160297082032,51.544542705902302,51.926316540958503,47.388269725205099,49.820699547956799,50.961739820910601],"text":["year: 1990<br />flfp: 42.25006<br />region: Latin America & Caribbean","year: 1991<br />flfp: 42.50209<br />region: Latin America & Caribbean","year: 1992<br />flfp: 43.15712<br />region: Latin America & Caribbean","year: 1993<br />flfp: 43.89110<br />region: Latin America & Caribbean","year: 1994<br />flfp: 44.56901<br />region: Latin America & Caribbean","year: 1995<br />flfp: 45.35557<br />region: Latin America & Caribbean","year: 1996<br />flfp: 45.19793<br />region: Latin America & Caribbean","year: 1997<br />flfp: 46.28775<br />region: Latin America & Caribbean","year: 1998<br />flfp: 46.74917<br />region: Latin America & Caribbean","year: 1999<br />flfp: 47.02435<br />region: Latin America & Caribbean","year: 2000<br />flfp: 47.15862<br />region: Latin America & Caribbean","year: 2001<br />flfp: 47.69472<br />region: Latin America & Caribbean","year: 2002<br />flfp: 48.19574<br />region: Latin America & Caribbean","year: 2003<br />flfp: 48.67221<br />region: Latin America & Caribbean","year: 2004<br />flfp: 49.45740<br />region: Latin America & Caribbean","year: 2005<br />flfp: 50.19174<br />region: Latin America & Caribbean","year: 2006<br />flfp: 50.51574<br />region: Latin America & Caribbean","year: 2007<br />flfp: 50.46896<br />region: Latin America & Caribbean","year: 2008<br />flfp: 50.44620<br />region: Latin America & Caribbean","year: 2009<br />flfp: 51.02850<br />region: Latin America & Caribbean","year: 2010<br />flfp: 50.59170<br />region: Latin America & Caribbean","year: 2011<br />flfp: 50.21278<br />region: Latin America & Caribbean","year: 2012<br />flfp: 50.79398<br />region: Latin America & Caribbean","year: 2013<br />flfp: 50.66592<br />region: Latin America & Caribbean","year: 2014<br />flfp: 50.46577<br />region: Latin America & Caribbean","year: 2015<br />flfp: 50.70743<br />region: Latin America & Caribbean","year: 2016<br />flfp: 50.79602<br />region: Latin America & Caribbean","year: 2017<br />flfp: 51.11603<br />region: Latin America & Caribbean","year: 2018<br />flfp: 51.54454<br />region: Latin America & Caribbean","year: 2019<br />flfp: 51.92632<br />region: Latin America & Caribbean","year: 2020<br />flfp: 47.38827<br />region: Latin America & Caribbean","year: 2021<br />flfp: 49.82070<br />region: Latin America & Caribbean","year: 2022<br />flfp: 50.96174<br />region: Latin America & Caribbean"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(49,104,142,1)","dash":"solid"},"hoveron":"points","name":"Latin America & Caribbean","legendgroup":"Latin America & Caribbean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[17.341700613344599,17.3871008459489,17.7154022509458,17.709640687196199,18.068386123559101,17.930212672606299,17.8256240575951,17.860185380613999,17.9280199356614,18.5467909631511,18.8185211886573,18.937497896082501,18.578209836485801,19.009689636295199,19.4057500522974,19.832091966497899,19.9338340004497,20.2038910427198,19.3900061516363,19.800635060179602,19.798166601108001,19.511400509471301,19.807800137595802,19.7710665333212,19.703654109276702,20.2012676222081,20.799885218497799,20.4119283629596,19.698713618980701,19.225945968539399,18.246274008921802,18.248752258977699,18.8177805343473],"text":["year: 1990<br />flfp: 17.34170<br />region: Middle East & North Africa","year: 1991<br />flfp: 17.38710<br />region: Middle East & North Africa","year: 1992<br />flfp: 17.71540<br />region: Middle East & North Africa","year: 1993<br />flfp: 17.70964<br />region: Middle East & North Africa","year: 1994<br />flfp: 18.06839<br />region: Middle East & North Africa","year: 1995<br />flfp: 17.93021<br />region: Middle East & North Africa","year: 1996<br />flfp: 17.82562<br />region: Middle East & North Africa","year: 1997<br />flfp: 17.86019<br />region: Middle East & North Africa","year: 1998<br />flfp: 17.92802<br />region: Middle East & North Africa","year: 1999<br />flfp: 18.54679<br />region: Middle East & North Africa","year: 2000<br />flfp: 18.81852<br />region: Middle East & North Africa","year: 2001<br />flfp: 18.93750<br />region: Middle East & North Africa","year: 2002<br />flfp: 18.57821<br />region: Middle East & North Africa","year: 2003<br />flfp: 19.00969<br />region: Middle East & North Africa","year: 2004<br />flfp: 19.40575<br />region: Middle East & North Africa","year: 2005<br />flfp: 19.83209<br />region: Middle East & North Africa","year: 2006<br />flfp: 19.93383<br />region: Middle East & North Africa","year: 2007<br />flfp: 20.20389<br />region: Middle East & North Africa","year: 2008<br />flfp: 19.39001<br />region: Middle East & North Africa","year: 2009<br />flfp: 19.80064<br />region: Middle East & North Africa","year: 2010<br />flfp: 19.79817<br />region: Middle East & North Africa","year: 2011<br />flfp: 19.51140<br />region: Middle East & North Africa","year: 2012<br />flfp: 19.80780<br />region: Middle East & North Africa","year: 2013<br />flfp: 19.77107<br />region: Middle East & North Africa","year: 2014<br />flfp: 19.70365<br />region: Middle East & North Africa","year: 2015<br />flfp: 20.20127<br />region: Middle East & North Africa","year: 2016<br />flfp: 20.79989<br />region: Middle East & North Africa","year: 2017<br />flfp: 20.41193<br />region: Middle East & North Africa","year: 2018<br />flfp: 19.69871<br />region: Middle East & North Africa","year: 2019<br />flfp: 19.22595<br />region: Middle East & North Africa","year: 2020<br />flfp: 18.24627<br />region: Middle East & North Africa","year: 2021<br />flfp: 18.24875<br />region: Middle East & North Africa","year: 2022<br />flfp: 18.81778<br />region: Middle East & North Africa"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(33,144,140,1)","dash":"solid"},"hoveron":"points","name":"Middle East & North Africa","legendgroup":"Middle East & North Africa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[56.190325588074003,56.091445877764002,56.422186876567501,56.5318577373396,57.383860064251898,57.593828869042802,57.8760700784417,58.445011714633999,58.517628947961299,58.736658164582103,58.9112269405638,58.7886259473539,58.729445567149803,58.7072772017126,58.475646692667901,58.544371190644398,58.6638101022954,58.658044010186103,58.851438612135802,58.606390674347402,58.093777336410199,57.575262891774997,57.345019379805798,56.9615630424465,56.7647412504001,56.538889185098199,56.6660477502625,56.932418516809498,56.998585368169799,57.365037153515601,56.101555326222602,56.119640562473698,56.931829368824403],"text":["year: 1990<br />flfp: 56.19033<br />region: North America","year: 1991<br />flfp: 56.09145<br />region: North America","year: 1992<br />flfp: 56.42219<br />region: North America","year: 1993<br />flfp: 56.53186<br />region: North America","year: 1994<br />flfp: 57.38386<br />region: North America","year: 1995<br />flfp: 57.59383<br />region: North America","year: 1996<br />flfp: 57.87607<br />region: North America","year: 1997<br />flfp: 58.44501<br />region: North America","year: 1998<br />flfp: 58.51763<br />region: North America","year: 1999<br />flfp: 58.73666<br />region: North America","year: 2000<br />flfp: 58.91123<br />region: North America","year: 2001<br />flfp: 58.78863<br />region: North America","year: 2002<br />flfp: 58.72945<br />region: North America","year: 2003<br />flfp: 58.70728<br />region: North America","year: 2004<br />flfp: 58.47565<br />region: North America","year: 2005<br />flfp: 58.54437<br />region: North America","year: 2006<br />flfp: 58.66381<br />region: North America","year: 2007<br />flfp: 58.65804<br />region: North America","year: 2008<br />flfp: 58.85144<br />region: North America","year: 2009<br />flfp: 58.60639<br />region: North America","year: 2010<br />flfp: 58.09378<br />region: North America","year: 2011<br />flfp: 57.57526<br />region: North America","year: 2012<br />flfp: 57.34502<br />region: North America","year: 2013<br />flfp: 56.96156<br />region: North America","year: 2014<br />flfp: 56.76474<br />region: North America","year: 2015<br />flfp: 56.53889<br />region: North America","year: 2016<br />flfp: 56.66605<br />region: North America","year: 2017<br />flfp: 56.93242<br />region: North America","year: 2018<br />flfp: 56.99859<br />region: North America","year: 2019<br />flfp: 57.36504<br />region: North America","year: 2020<br />flfp: 56.10156<br />region: North America","year: 2021<br />flfp: 56.11964<br />region: North America","year: 2022<br />flfp: 56.93183<br />region: North America"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(53,183,121,1)","dash":"solid"},"hoveron":"points","name":"North America","legendgroup":"North America","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[26.1956074508455,26.394700910541999,26.382679037159999,26.510691075194401,26.656701633850801,26.751265352969799,27.159387133208501,27.5824540763507,28.028621867687399,28.332617996344901,28.681122039081401,28.608678591474899,28.547685501581899,28.567778071692199,28.601529547730301,28.6207308328128,28.469178731434202,28.328562903320702,28.207062869376202,28.144268179965401,28.078159288322802,27.485452618446701,26.901655101789999,26.139091994316601,25.348887264044802,24.697871494482499,23.871875991405801,23.338123552637398,22.493928313211601,25.1209922717129,24.1796183831698,24.7619540390704,25.568424403680499],"text":["year: 1990<br />flfp: 26.19561<br />region: South Asia","year: 1991<br />flfp: 26.39470<br />region: South Asia","year: 1992<br />flfp: 26.38268<br />region: South Asia","year: 1993<br />flfp: 26.51069<br />region: South Asia","year: 1994<br />flfp: 26.65670<br />region: South Asia","year: 1995<br />flfp: 26.75127<br />region: South Asia","year: 1996<br />flfp: 27.15939<br />region: South Asia","year: 1997<br />flfp: 27.58245<br />region: South Asia","year: 1998<br />flfp: 28.02862<br />region: South Asia","year: 1999<br />flfp: 28.33262<br />region: South Asia","year: 2000<br />flfp: 28.68112<br />region: South Asia","year: 2001<br />flfp: 28.60868<br />region: South Asia","year: 2002<br />flfp: 28.54769<br />region: South Asia","year: 2003<br />flfp: 28.56778<br />region: South Asia","year: 2004<br />flfp: 28.60153<br />region: South Asia","year: 2005<br />flfp: 28.62073<br />region: South Asia","year: 2006<br />flfp: 28.46918<br />region: South Asia","year: 2007<br />flfp: 28.32856<br />region: South Asia","year: 2008<br />flfp: 28.20706<br />region: South Asia","year: 2009<br />flfp: 28.14427<br />region: South Asia","year: 2010<br />flfp: 28.07816<br />region: South Asia","year: 2011<br />flfp: 27.48545<br />region: South Asia","year: 2012<br />flfp: 26.90166<br />region: South Asia","year: 2013<br />flfp: 26.13909<br />region: South Asia","year: 2014<br />flfp: 25.34889<br />region: South Asia","year: 2015<br />flfp: 24.69787<br />region: South Asia","year: 2016<br />flfp: 23.87188<br />region: South Asia","year: 2017<br />flfp: 23.33812<br />region: South Asia","year: 2018<br />flfp: 22.49393<br />region: South Asia","year: 2019<br />flfp: 25.12099<br />region: South Asia","year: 2020<br />flfp: 24.17962<br />region: South Asia","year: 2021<br />flfp: 24.76195<br />region: South Asia","year: 2022<br />flfp: 25.56842<br />region: South Asia"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(143,215,68,1)","dash":"solid"},"hoveron":"points","name":"South Asia","legendgroup":"South Asia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[62.257736438179499,62.343075698619998,62.4257500845031,62.470596535585301,62.574850214999202,62.766926227854903,62.827823576699799,62.849165491753098,62.889405152692497,62.9571756803428,63.0274591302651,63.072522177392599,63.170609796331,63.252303202216297,63.332651507080897,63.399911235946,63.276456172206203,63.102789852082502,62.877270952868002,62.538934305474498,61.972047253288899,61.977620380600101,61.264015286049002,60.724669717388998,60.568226820050697,60.670476125661601,60.729287186215998,60.754233468712997,60.675060187690001,60.7795765791058,59.846519549886899,60.375788553732498,60.916576888681398],"text":["year: 1990<br />flfp: 62.25774<br />region: Sub-Saharan Africa","year: 1991<br />flfp: 62.34308<br />region: Sub-Saharan Africa","year: 1992<br />flfp: 62.42575<br />region: Sub-Saharan Africa","year: 1993<br />flfp: 62.47060<br />region: Sub-Saharan Africa","year: 1994<br />flfp: 62.57485<br />region: Sub-Saharan Africa","year: 1995<br />flfp: 62.76693<br />region: Sub-Saharan Africa","year: 1996<br />flfp: 62.82782<br />region: Sub-Saharan Africa","year: 1997<br />flfp: 62.84917<br />region: Sub-Saharan Africa","year: 1998<br />flfp: 62.88941<br />region: Sub-Saharan Africa","year: 1999<br />flfp: 62.95718<br />region: Sub-Saharan Africa","year: 2000<br />flfp: 63.02746<br />region: Sub-Saharan Africa","year: 2001<br />flfp: 63.07252<br />region: Sub-Saharan Africa","year: 2002<br />flfp: 63.17061<br />region: Sub-Saharan Africa","year: 2003<br />flfp: 63.25230<br />region: Sub-Saharan Africa","year: 2004<br />flfp: 63.33265<br />region: Sub-Saharan Africa","year: 2005<br />flfp: 63.39991<br />region: Sub-Saharan Africa","year: 2006<br />flfp: 63.27646<br />region: Sub-Saharan Africa","year: 2007<br />flfp: 63.10279<br />region: Sub-Saharan Africa","year: 2008<br />flfp: 62.87727<br />region: Sub-Saharan Africa","year: 2009<br />flfp: 62.53893<br />region: Sub-Saharan Africa","year: 2010<br />flfp: 61.97205<br />region: Sub-Saharan Africa","year: 2011<br />flfp: 61.97762<br />region: Sub-Saharan Africa","year: 2012<br />flfp: 61.26402<br />region: Sub-Saharan Africa","year: 2013<br />flfp: 60.72467<br />region: Sub-Saharan Africa","year: 2014<br />flfp: 60.56823<br />region: Sub-Saharan Africa","year: 2015<br />flfp: 60.67048<br />region: Sub-Saharan Africa","year: 2016<br />flfp: 60.72929<br />region: Sub-Saharan Africa","year: 2017<br />flfp: 60.75423<br />region: Sub-Saharan Africa","year: 2018<br />flfp: 60.67506<br />region: Sub-Saharan Africa","year: 2019<br />flfp: 60.77958<br />region: Sub-Saharan Africa","year: 2020<br />flfp: 59.84652<br />region: Sub-Saharan Africa","year: 2021<br />flfp: 60.37579<br />region: Sub-Saharan Africa","year: 2022<br />flfp: 60.91658<br />region: Sub-Saharan Africa"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(253,231,37,1)","dash":"solid"},"hoveron":"points","name":"Sub-Saharan Africa","legendgroup":"Sub-Saharan Africa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826498,"l":43.105022831050235},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Regional trends in female labor force participation","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1988.4000000000001,2023.5999999999999],"tickmode":"array","ticktext":["1990","2000","2010","2020"],"tickvals":[1990,2000,2010,2020],"categoryorder":"array","categoryarray":["1990","2000","2010","2020"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[14.892323189457469,68.778626514974334],"tickmode":"array","ticktext":["20%","30%","40%","50%","60%"],"tickvals":[20,30,40,50,60],"categoryorder":"array","categoryarray":["20%","30%","40%","50%","60%"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Female Labor Force Participation","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Country","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"bdee6860594c":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"bdee6860594c","visdat":{"bdee6860594c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>In a lot of cases, we may want to control the tool tip of the plot. The tool tip is what appears when the user hovers over information on the chart. In this next example, the chart does not look that great unless we add the <code>tooltip</code> argument. But it is fairly simple to do. We just add the elements that we want to appear in a combine function, e.g.&nbsp;<code><a href="https://rdrr.io/r/base/c.html">c()</a></code>. In this case we will include region and female labor force participation in the tool tip.</p>
<div class="cell">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">flfp_region</span> <span class="op">&lt;-</span> <span class="va">flfp_region</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"YlGn"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/ggplotly.html">ggplotly</a></span><span class="op">(</span><span class="va">flfp_region</span>, tooltip <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"region"</span>, <span class="st">"flfp"</span><span class="op">)</span><span class="op">)</span> <span class="co"># controlling the tooltip output</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-017e50d1d22bbe88f7ac" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-017e50d1d22bbe88f7ac">{"x":{"data":[{"orientation":"v","width":0.90000000000000013,"base":0,"x":[2],"y":[59.024814961480701],"text":"flfp: 59.02481<br />region: East Asia & Pacific","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,255,204,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"East Asia & Pacific","legendgroup":"East Asia & Pacific","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[5],"y":[50.487253260589199],"text":"flfp: 50.48725<br />region: Europe & Central Asia","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,240,163,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Europe & Central Asia","legendgroup":"Europe & Central Asia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[4],"y":[50.961739820910601],"text":"flfp: 50.96174<br />region: Latin America & Caribbean","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(173,221,142,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Latin America & Caribbean","legendgroup":"Latin America & Caribbean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[7],"y":[18.8177805343473],"text":"flfp: 18.81778<br />region: Middle East & North Africa","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(120,198,121,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Middle East & North Africa","legendgroup":"Middle East & North Africa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[3],"y":[56.931829368824403],"text":"flfp: 56.93183<br />region: North America","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(65,171,93,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"North America","legendgroup":"North America","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[6],"y":[25.568424403680499],"text":"flfp: 25.56842<br />region: South Asia","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(35,132,67,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"South Asia","legendgroup":"South Asia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999991,"base":0,"x":[1],"y":[60.916576888681398],"text":"flfp: 60.91658<br />region: Sub-Saharan Africa","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,90,50,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Sub-Saharan Africa","legendgroup":"Sub-Saharan Africa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826498,"l":43.105022831050235},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Levels of female labor force participation by region","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,7.5999999999999996],"tickmode":"array","ticktext":["SSF","EAS","NAC","LCN","ECS","SAS","MEA"],"tickvals":[1,2,3,4.0000000000000009,5,6,7],"categoryorder":"array","categoryarray":["SSF","EAS","NAC","LCN","ECS","SAS","MEA"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Region","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3.04582884443407,63.962405733115467],"tickmode":"array","ticktext":["0%","20%","40%","60%"],"tickvals":[0,20,40,60],"categoryorder":"array","categoryarray":["0%","20%","40%","60%"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Avg. Female Labor Force Participation","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Region","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"bdee2e998118":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"bdee2e998118","visdat":{"bdee2e998118":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Another thing we may want to do is to include some additional annotations. We might also notice that some of the things we include in the labs argument in <code>ggplot2</code> do not get picked up by <code>plotly</code> and that we have to add them back with a <code>layout(annotations = )</code> call. One additional idiosyncrasy is that any item that we want to include in the <code>plotly</code> chart has to be passed as an argument in the <code>ggplot</code> code. For example, we need to include <code>aes(label = country)</code> to view country in tool tip. But <code>plotly</code> does support the R native pipe operator and that makes it a little easier to layer on multiple annotations.</p>
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://plotly-r.com">plotly</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">wealth_flfp_plotly</span> <span class="op">&lt;-</span> <span class="va">wealth_flfp</span>  <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_d</a></span><span class="op">(</span>option <span class="op">=</span> <span class="st">"plasma"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">country</span><span class="op">)</span>  <span class="co"># need so ggplot retains label for plotly</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/ggplotly.html">ggplotly</a></span><span class="op">(</span><span class="va">wealth_flfp_plotly</span>, tooltip <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"country"</span>, <span class="st">"flfp"</span>, <span class="st">"gdp_pc"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  </span>
<span>  <span class="fu">layout</span><span class="op">(</span>annotations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Source: World Bank Development Indicators"</span>,  </span>
<span>                            font <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, showarrow <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                            xref <span class="op">=</span> <span class="st">'paper'</span>, x <span class="op">=</span> <span class="fl">1.1</span>, xanchor <span class="op">=</span> <span class="st">'right'</span>, xshift <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                            yref <span class="op">=</span> <span class="st">'paper'</span>, y <span class="op">=</span> <span class="op">-</span><span class="fl">.1</span>, yanchor <span class="op">=</span> <span class="st">'auto'</span>, yshift <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co"># add web address</span></span>
<span>  <span class="fu">layout</span><span class="op">(</span>annotations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"www.dataviz-gwu.rocks"</span>, </span>
<span>                            font <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span>, color <span class="op">=</span> <span class="st">'grey'</span><span class="op">)</span>, showarrow <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                            xref <span class="op">=</span> <span class="st">'paper'</span>, x <span class="op">=</span> <span class="fl">.5</span>, xanchor <span class="op">=</span> <span class="st">'center'</span>, xshift <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                            yref <span class="op">=</span> <span class="st">'paper'</span>, y <span class="op">=</span> <span class="fl">1</span>, yanchor <span class="op">=</span> <span class="st">'top'</span>, yshift <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-5cb825a130439468d3a4" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-5cb825a130439468d3a4">{"x":{"data":[{"x":[4.7725089158105778,4.4723638843549356,4.0501188439511768,3.6485163916622194,4.4958965739380883,4.6486097117616305,3.5902802059384329,4.5503210569305477,3.1553169119364011,4.5156976009018646,3.4093036031371935,4.6219012934191364,3.6135441299806934,4.025538394657004,4.6178595483687257,3.5221888448141239,3.377865064043212,4.2689378519849148,4.8272132609303036,3.3051463162427517,3.7872896869091792,3.3137228554983653,3.6514213028439806,3.5326301860421778,3.4132026934378201,3.586115392488467],"y":[61.216000000000001,55.079000000000001,61.305999999999997,37.777000000000001,56.182000000000002,54.145000000000003,52.033999999999999,53.506999999999998,69.677000000000007,53.622,55.500999999999998,64.225999999999999,51.140999999999998,52.116999999999997,66.128,44.277999999999999,46.421999999999997,49.466999999999999,64.165000000000006,82.293999999999997,59.185000000000002,60.756999999999998,42.359000000000002,68.245000000000005,60.188000000000002,41.006],"text":["country: Australia<br />gdp_pc:  59225.5245<br />flfp: 61.216","country: Brunei Darussalam<br />gdp_pc:  29673.1659<br />flfp: 55.079","country: China<br />gdp_pc:  11223.2553<br />flfp: 61.306","country: Fiji<br />gdp_pc:   4451.6026<br />flfp: 37.777","country: Guam<br />gdp_pc:  31325.3963<br />flfp: 56.182","country: Hong Kong SAR, China<br />gdp_pc:  44525.5930<br />flfp: 54.145","country: Indonesia<br />gdp_pc:   3892.9624<br />flfp: 52.034","country: Japan<br />gdp_pc:  35507.5786<br />flfp: 53.507","country: Cambodia<br />gdp_pc:   1429.9370<br />flfp: 69.677","country: Korea, Rep.<br />gdp_pc:  32786.6920<br />flfp: 53.622","country: Lao PDR<br />gdp_pc:   2566.2774<br />flfp: 55.501","country: Macao SAR, China<br />gdp_pc:  41869.8392<br />flfp: 64.226","country: Mongolia<br />gdp_pc:   4107.1837<br />flfp: 51.141","country: Malaysia<br />gdp_pc:  10605.6770<br />flfp: 52.117","country: New Zealand<br />gdp_pc:  41481.9867<br />flfp: 66.128","country: Philippines<br />gdp_pc:   3328.0424<br />flfp: 44.278","country: Papua New Guinea<br />gdp_pc:   2387.0695<br />flfp: 46.422","country: French Polynesia<br />gdp_pc:  18575.3862<br />flfp: 49.467","country: Singapore<br />gdp_pc:  67175.8640<br />flfp: 64.165","country: Solomon Islands<br />gdp_pc:   2019.0465<br />flfp: 82.294","country: Thailand<br />gdp_pc:   6127.5898<br />flfp: 59.185","country: Timor-Leste<br />gdp_pc:   2059.3153<br />flfp: 60.757","country: Tonga<br />gdp_pc:   4481.4784<br />flfp: 42.359","country: Viet Nam<br />gdp_pc:   3409.0250<br />flfp: 68.245","country: Vanuatu<br />gdp_pc:   2589.4212<br />flfp: 60.188","country: Samoa<br />gdp_pc:   3855.8079<br />flfp: 41.006"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(13,8,135,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(13,8,135,1)"}},"hoveron":"points","name":"East Asia & Pacific","legendgroup":"East Asia & Pacific","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.6863781127875437,3.6557718781526329,4.6530621227972349,3.7279834481504217,4.6361109255607111,3.9364493161662777,3.7743577671305735,3.8100813134921396,4.9470429850462025,4.4698030094279613,4.3028829948087575,4.6324575201511857,4.7723631291647362,4.4214656746111416,4.3366046229543027,4.6657222577625923,4.5798086733845125,4.6617143764712239,3.6929995073297439,4.2778587320239581,4.1910244304614714,4.1908091441402808,4.957076408715877,4.7320727729907937,4.5049012831425985,4.0530152523918712,3.0590206218360945,4.2622738436372494,5.0430709020661455,4.2169973764149358,3.5668677343584321,3.7296082645665041,3.8686625454102832,4.6894289084371596,4.891007549182036,4.2003916513950728,4.3182204810700187,4.0647350479456792,4.0107949041341824,3.852798191854943,4.2671815810936149,4.3942203084923142,4.7389073876223042,3.1078747831383766,3.8618885750317351,4.1287199003764981,3.3896945225028832,3.5258262555792381],"y":[51.652999999999999,57.779000000000003,55.914999999999999,64.096999999999994,50.042000000000002,49.033999999999999,39.630000000000003,57.689999999999998,62.225999999999999,57.637999999999998,51.890000000000001,55.470999999999997,58.070999999999998,52.584000000000003,57.820999999999998,55.573999999999998,52.204000000000001,58.347000000000001,55.649999999999999,43.881999999999998,45.746000000000002,52.412999999999997,57.850999999999999,69.046999999999997,40.097000000000001,64.521000000000001,45.082999999999998,57.351999999999997,58.146000000000001,54.290999999999997,36.381999999999998,42.923999999999999,48.433,60.569000000000003,61.505000000000003,50.283999999999999,53.826999999999998,41.113999999999997,55.276000000000003,48.029000000000003,55.125999999999998,54.067999999999998,60.884,31.300000000000001,47.451999999999998,32.762,47.790999999999997,39.756],"text":["country: Albania<br />gdp_pc:   4857.1119<br />flfp: 51.653","country: Armenia<br />gdp_pc:   4526.5975<br />flfp: 57.779","country: Austria<br />gdp_pc:  44984.4197<br />flfp: 55.915","country: Azerbaijan<br />gdp_pc:   5345.4399<br />flfp: 64.097","country: Belgium<br />gdp_pc:  43262.4316<br />flfp: 50.042","country: Bulgaria<br />gdp_pc:   8638.7184<br />flfp: 49.034","country: Bosnia and Herzegovina<br />gdp_pc:   5947.8193<br />flfp: 39.630","country: Belarus<br />gdp_pc:   6457.7513<br />flfp: 57.690","country: Switzerland<br />gdp_pc:  88520.3220<br />flfp: 62.226","country: Cyprus<br />gdp_pc:  29498.7090<br />flfp: 57.638","country: Czechia<br />gdp_pc:  20085.5161<br />flfp: 51.890","country: Germany<br />gdp_pc:  42900.0225<br />flfp: 55.471","country: Denmark<br />gdp_pc:  59205.6467<br />flfp: 58.071","country: Spain<br />gdp_pc:  26391.5972<br />flfp: 52.584","country: Estonia<br />gdp_pc:  21707.2408<br />flfp: 57.821","country: Finland<br />gdp_pc:  46315.0629<br />flfp: 55.574","country: France<br />gdp_pc:  38002.1942<br />flfp: 52.204","country: United Kingdom<br />gdp_pc:  45889.6110<br />flfp: 58.347","country: Georgia<br />gdp_pc:   4931.7324<br />flfp: 55.650","country: Greece<br />gdp_pc:  18960.8906<br />flfp: 43.882","country: Croatia<br />gdp_pc:  15524.7434<br />flfp: 45.746","country: Hungary<br />gdp_pc:  15517.0494<br />flfp: 52.413","country: Ireland<br />gdp_pc:  90589.1967<br />flfp: 57.851","country: Iceland<br />gdp_pc:  53960.1034<br />flfp: 69.047","country: Italy<br />gdp_pc:  31981.6807<br />flfp: 40.097","country: Kazakhstan<br />gdp_pc:  11298.3559<br />flfp: 64.521","country: Kyrgyz Republic<br />gdp_pc:   1145.5673<br />flfp: 45.083","country: Lithuania<br />gdp_pc:  18292.5329<br />flfp: 57.352","country: Luxembourg<br />gdp_pc: 110425.8884<br />flfp: 58.146","country: Latvia<br />gdp_pc:  16481.5243<br />flfp: 54.291","country: Moldova<br />gdp_pc:   3688.6524<br />flfp: 36.382","country: North Macedonia<br />gdp_pc:   5365.4761<br />flfp: 42.924","country: Montenegro<br />gdp_pc:   7390.3081<br />flfp: 48.433","country: Netherlands<br />gdp_pc:  48913.5190<br />flfp: 60.569","country: Norway<br />gdp_pc:  77805.0075<br />flfp: 61.505","country: Poland<br />gdp_pc:  15863.2311<br />flfp: 50.284","country: Portugal<br />gdp_pc:  20807.5277<br />flfp: 53.827","country: Romania<br />gdp_pc:  11607.4026<br />flfp: 41.114","country: Russian Federation<br />gdp_pc:  10251.6768<br />flfp: 55.276","country: Serbia<br />gdp_pc:   7125.2186<br />flfp: 48.029","country: Slovak Republic<br />gdp_pc:  18500.4197<br />flfp: 55.126","country: Slovenia<br />gdp_pc:  24786.7912<br />flfp: 54.068","country: Sweden<br />gdp_pc:  54816.0058<br />flfp: 60.884","country: Tajikistan<br />gdp_pc:   1281.9609<br />flfp: 31.300","country: Turkmenistan<br />gdp_pc:   7275.9311<br />flfp: 47.452","country: Turkiye<br />gdp_pc:  13449.9262<br />flfp: 32.762","country: Ukraine<br />gdp_pc:   2452.9829<br />flfp: 47.791","country: Uzbekistan<br />gdp_pc:   3356.0333<br />flfp: 39.756"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(93,1,166,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(93,1,166,1)"}},"hoveron":"points","name":"Europe & Central Asia","legendgroup":"Europe & Central Asia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.0949711097833905,4.4251132516666285,3.7610936422739742,3.4859909029129188,3.9355944979598645,4.1738424338454916,4.1490062540989765,3.8077960603947512,4.11082521061613,3.8627893481275932,3.9248272805792714,3.7397692172064785,3.64233827673403,4.0357226197838463,3.3852543966623934,3.1087266482644944,3.6969117664681224,3.970021583017568,3.9894696318763336,3.3164487642642939,4.1482903753507081,3.8093505119983004,4.4536823314568927,3.7965562075865882,3.6215147849885878,3.8469324630339043,4.1460542330423156,4.2391189919271719,3.9049711428782521,4.5673244146971346],"y":[50.283000000000001,64.849999999999994,49.146999999999998,57.598999999999997,51.978999999999999,57.616999999999997,46.222999999999999,51.692999999999998,50.109000000000002,39.887999999999998,50.930999999999997,53.716999999999999,36.268000000000001,39.529000000000003,48.067,61.771999999999998,60.420999999999999,63.792999999999999,44.347000000000001,48.545999999999999,53.326000000000001,64.890000000000001,31.039999999999999,59.848999999999997,44.25,44.581000000000003,46.350000000000001,56.125,53.082000000000001,44.07],"text":["country: Argentina<br />gdp_pc:  12444.3183<br />flfp: 50.283","country: Bahamas, The<br />gdp_pc:  26614.1899<br />flfp: 64.850","country: Belize<br />gdp_pc:   5768.9084<br />flfp: 49.147","country: Bolivia<br />gdp_pc:   3061.8993<br />flfp: 57.599","country: Brazil<br />gdp_pc:   8621.7316<br />flfp: 51.979","country: Barbados<br />gdp_pc:  14922.5291<br />flfp: 57.617","country: Chile<br />gdp_pc:  14093.0909<br />flfp: 46.223","country: Colombia<br />gdp_pc:   6423.8599<br />flfp: 51.693","country: Costa Rica<br />gdp_pc:  12906.9970<br />flfp: 50.109","country: Cuba<br />gdp_pc:   7291.0378<br />flfp: 39.888","country: Dominican Republic<br />gdp_pc:   8410.6058<br />flfp: 50.931","country: Ecuador<br />gdp_pc:   5492.4893<br />flfp: 53.717","country: Guatemala<br />gdp_pc:   4388.7241<br />flfp: 36.268","country: Guyana<br />gdp_pc:  10857.3195<br />flfp: 39.529","country: Honduras<br />gdp_pc:   2428.0319<br />flfp: 48.067","country: Haiti<br />gdp_pc:   1284.4779<br />flfp: 61.772","country: Jamaica<br />gdp_pc:   4976.3597<br />flfp: 60.421","country: St. Lucia<br />gdp_pc:   9333.0068<br />flfp: 63.793","country: Mexico<br />gdp_pc:   9760.4453<br />flfp: 44.347","country: Nicaragua<br />gdp_pc:   2072.2816<br />flfp: 48.546","country: Panama<br />gdp_pc:  14069.8794<br />flfp: 53.326","country: Peru<br />gdp_pc:   6446.8937<br />flfp: 64.890","country: Puerto Rico<br />gdp_pc:  28423.8126<br />flfp: 31.040","country: Paraguay<br />gdp_pc:   6259.7387<br />flfp: 59.849","country: El Salvador<br />gdp_pc:   4183.2593<br />flfp: 44.250","country: Suriname<br />gdp_pc:   7029.6299<br />flfp: 44.581","country: Trinidad and Tobago<br />gdp_pc:  13997.6211<br />flfp: 46.350","country: Uruguay<br />gdp_pc:  17342.7911<br />flfp: 56.125","country: St. Vincent and the Grenadines<br />gdp_pc:   8034.7273<br />flfp: 53.082","country: Virgin Islands (U.S.)<br />gdp_pc:  36925.3325<br />flfp: 44.070"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(156,23,158,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(156,23,158,1)"}},"hoveron":"points","name":"Latin America & Caribbean","legendgroup":"Latin America & Caribbean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.63058488601179,4.3693493889477306,3.4625682547593293,3.5954257660887183,3.5907128924407283,3.7279442989380138,3.6171459394122105,4.6103723528277829,3.584993129072136,4.3950163348989975,3.7858602550700131,3.9215378345208203,3.5176844518511343,4.4639481660374711,4.2624691729816488,3.4845113917590318,4.785490016670404,4.2944275283375353,2.8719663913492623,3.5832412104842692,3.0105415950360177],"y":[52.789000000000001,43.317999999999998,17.925000000000001,15.909000000000001,14.635999999999999,14.829000000000001,10.917,59.404000000000003,14.489000000000001,46.497999999999998,27.754000000000001,33.847000000000001,20.733000000000001,52.753,29.831,17.507000000000001,59.918999999999997,27.754000000000001,16.379000000000001,25.687000000000001,5.9290000000000003],"text":["country: United Arab Emirates<br />gdp_pc:  42715.4402<br />flfp: 52.789","country: Bahrain<br />gdp_pc:  23407.1959<br />flfp: 43.318","country: Djibouti<br />gdp_pc:   2901.1371<br />flfp: 17.925","country: Algeria<br />gdp_pc:   3939.3609<br />flfp: 15.909","country: Egypt, Arab Rep.<br />gdp_pc:   3896.8429<br />flfp: 14.636","country: Iran, Islamic Rep.<br />gdp_pc:   5344.9580<br />flfp: 14.829","country: Iraq<br />gdp_pc:   4141.3882<br />flfp: 10.917","country: Israel<br />gdp_pc:  40772.9705<br />flfp: 59.404","country: Jordan<br />gdp_pc:   3845.8570<br />flfp: 14.489","country: Kuwait<br />gdp_pc:  24832.2650<br />flfp: 46.498","country: Lebanon<br />gdp_pc:   6107.4547<br />flfp: 27.754","country: Libya<br />gdp_pc:   8347.1426<br />flfp: 33.847","country: Morocco<br />gdp_pc:   3293.7031<br />flfp: 20.733","country: Malta<br />gdp_pc:  29103.6974<br />flfp: 52.753","country: Oman<br />gdp_pc:  18300.7620<br />flfp: 29.831","country: West Bank and Gaza<br />gdp_pc:   3051.4861<br />flfp: 17.507","country: Qatar<br />gdp_pc:  61022.5029<br />flfp: 59.919","country: Saudi Arabia<br />gdp_pc:  19698.2447<br />flfp: 27.754","country: Syrian Arab Republic<br />gdp_pc:    744.6743<br />flfp: 16.379","country: Tunisia<br />gdp_pc:   3830.3743<br />flfp: 25.687","country: Yemen, Rep.<br />gdp_pc:   1024.5699<br />flfp:  5.929"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(204,70,120,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(204,70,120,1)"}},"hoveron":"points","name":"Middle East & North Africa","legendgroup":"Middle East & North Africa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.6457615363204212,4.7911981621777775],"y":[60.622,55.588000000000001],"text":["country: Canada<br />gdp_pc:  44234.5421<br />flfp: 60.622","country: United States<br />gdp_pc:  61829.8456<br />flfp: 55.588"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(237,121,83,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(237,121,83,1)"}},"hoveron":"points","name":"North America","legendgroup":"North America","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.2264538647847547,3.4760253478266718,3.2926903456656786,3.636635679632243,3.9881822946471415,3.018273471419477,3.217666223781396],"y":[37.103999999999999,52.899999999999999,22.989000000000001,33.978000000000002,41.216000000000001,28.248999999999999,24.574000000000002],"text":["country: Bangladesh<br />gdp_pc:   1684.4335<br />flfp: 37.104","country: Bhutan<br />gdp_pc:   2992.4393<br />flfp: 52.900","country: India<br />gdp_pc:   1961.9609<br />flfp: 22.989","country: Sri Lanka<br />gdp_pc:   4331.4737<br />flfp: 33.978","country: Maldives<br />gdp_pc:   9731.5562<br />flfp: 41.216","country: Nepal<br />gdp_pc:   1042.9740<br />flfp: 28.249","country: Pakistan<br />gdp_pc:   1650.6927<br />flfp: 24.574"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(253,179,47,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(253,179,47,1)"}},"hoveron":"points","name":"South Asia","legendgroup":"South Asia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.377930630487251,2.4222036827231785,3.0842464427428604,2.8683026629600898,3.8058500334551968,2.5693509335687605,3.3679804685075325,3.1548992715941613,2.7000449315158224,3.2350827391280825,3.1321119566494064,3.4786163620666612,2.9216819459871957,3.8183068977926076,3.3030575544738703,2.9880141999636249,2.8237813133796368,2.7880962977511614,3.7686677972158593,3.2319129330857148,2.7992168300495766,2.9778196083862052,2.6510692270774237,2.8720165924451999,2.7645080962233295,3.1930716571933417,3.9858359298212247,2.7507875158180957,3.6262155994772916,2.705615995059647,3.3855321495160422,2.9492674342780481,3.2420896909723402,3.1593644105903267,2.7918794968132485,2.7096525479447462,3.1525788869172136,3.6048102130408992,2.7750011979486771,2.9340929050887081,3.0177637635783072,2.964046256904163,3.7752057181613572,3.1063989922053059,3.1103199826094663],"y":[74.463999999999999,80.692999999999998,55.899999999999999,58.033999999999999,59.195999999999998,63.195,56.685000000000002,66.891999999999996,62.524000000000001,66.466999999999999,32.904000000000003,48.875999999999998,74.753,38.225000000000001,65.075999999999993,41.575000000000003,56.512,48.667999999999999,50.404000000000003,72.137,72.013000000000005,57.125,82.837999999999994,52.906999999999996,77.826999999999998,26.100999999999999,45.378,63.152000000000001,55.170999999999999,61.703000000000003,51.536999999999999,49.445,29.009,37.959000000000003,50.927999999999997,21.094000000000001,37.616999999999997,46.881,48.149999999999999,55.991,77.834999999999994,67.319999999999993,49.637999999999998,54.029000000000003,60.662999999999997],"text":["country: Angola<br />gdp_pc:   2387.4299<br />flfp: 74.464","country: Burundi<br />gdp_pc:    264.3648<br />flfp: 80.693","country: Benin<br />gdp_pc:   1214.0776<br />flfp: 55.900","country: Burkina Faso<br />gdp_pc:    738.4187<br />flfp: 58.034","country: Botswana<br />gdp_pc:   6395.1397<br />flfp: 59.196","country: Central African Republic<br />gdp_pc:    370.9804<br />flfp: 63.195","country: Cote d'Ivoire<br />gdp_pc:   2333.3531<br />flfp: 56.685","country: Cameroon<br />gdp_pc:   1428.5626<br />flfp: 66.892","country: Congo, Dem. Rep.<br />gdp_pc:    501.2391<br />flfp: 62.524","country: Congo, Rep.<br />gdp_pc:   1718.2357<br />flfp: 66.467","country: Comoros<br />gdp_pc:   1355.5388<br />flfp: 32.904","country: Cabo Verde<br />gdp_pc:   3010.3456<br />flfp: 48.876","country: Ethiopia<br />gdp_pc:    834.9913<br />flfp: 74.753","country: Gabon<br />gdp_pc:   6581.2274<br />flfp: 38.225","country: Ghana<br />gdp_pc:   2009.3591<br />flfp: 65.076","country: Guinea<br />gdp_pc:    972.7790<br />flfp: 41.575","country: Gambia, The<br />gdp_pc:    666.4711<br />flfp: 56.512","country: Guinea-Bissau<br />gdp_pc:    613.8981<br />flfp: 48.668","country: Equatorial Guinea<br />gdp_pc:   5870.4014<br />flfp: 50.404","country: Kenya<br />gdp_pc:   1705.7404<br />flfp: 72.137","country: Liberia<br />gdp_pc:    629.8206<br />flfp: 72.013","country: Lesotho<br />gdp_pc:    950.2100<br />flfp: 57.125","country: Madagascar<br />gdp_pc:    447.7847<br />flfp: 82.838","country: Mali<br />gdp_pc:    744.7604<br />flfp: 52.907","country: Mozambique<br />gdp_pc:    581.4443<br />flfp: 77.827","country: Mauritania<br />gdp_pc:   1559.8098<br />flfp: 26.101","country: Mauritius<br />gdp_pc:   9679.1212<br />flfp: 45.378","country: Malawi<br />gdp_pc:    563.3620<br />flfp: 63.152","country: Namibia<br />gdp_pc:   4228.7849<br />flfp: 55.171","country: Niger<br />gdp_pc:    507.7103<br />flfp: 61.703","country: Nigeria<br />gdp_pc:   2429.5853<br />flfp: 51.537","country: Rwanda<br />gdp_pc:    889.7488<br />flfp: 49.445","country: Sudan<br />gdp_pc:   1746.1827<br />flfp: 29.009","country: Senegal<br />gdp_pc:   1443.3259<br />flfp: 37.959","country: Sierra Leone<br />gdp_pc:    619.2692<br />flfp: 50.928","country: Somalia<br />gdp_pc:    512.4512<br />flfp: 21.094","country: Sao Tome and Principe<br />gdp_pc:   1420.9503<br />flfp: 37.617","country: Eswatini<br />gdp_pc:   4025.4109<br />flfp: 46.881","country: Chad<br />gdp_pc:    595.6638<br />flfp: 48.150","country: Togo<br />gdp_pc:    859.1973<br />flfp: 55.991","country: Tanzania<br />gdp_pc:   1041.7506<br />flfp: 77.835","country: Uganda<br />gdp_pc:    920.5476<br />flfp: 67.320","country: South Africa<br />gdp_pc:   5959.4437<br />flfp: 49.638","country: Zambia<br />gdp_pc:   1277.6120<br />flfp: 54.029","country: Zimbabwe<br />gdp_pc:   1289.1991<br />flfp: 60.663"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(240,249,33,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(240,249,33,1)"}},"hoveron":"points","name":"Sub-Saharan Africa","legendgroup":"Sub-Saharan Africa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.4222036827231785,2.4553792171452415,2.4885547515673041,2.5217302859893671,2.5549058204114301,2.5880813548334931,2.6212568892555557,2.6544324236776187,2.6876079580996817,2.7207834925217442,2.7539590269438072,2.7871345613658702,2.8203100957879332,2.8534856302099958,2.8866611646320588,2.9198366990541214,2.9530122334761844,2.9861877678982474,3.0193633023203104,3.0525388367423729,3.0857143711644359,3.1188899055864989,3.1520654400085615,3.1852409744306245,3.2184165088526875,3.2515920432747505,3.284767577696813,3.317943112118876,3.3511186465409391,3.3842941809630016,3.4174697153850646,3.4506452498071276,3.4838207842291906,3.5169963186512532,3.5501718530733162,3.5833473874953787,3.6165229219174417,3.6496984563395047,3.6828739907615677,3.7160495251836307,3.7492250596056933,3.7824005940277563,3.8155761284498189,3.8487516628718819,3.8819271972939449,3.9151027317160079,3.9482782661380709,3.9814538005601334,4.014629334982196,4.047804869404259,4.080980403826322,4.114155938248385,4.147331472670448,4.180507007092511,4.213682541514574,4.2468580759366361,4.2800336103586991,4.3132091447807621,4.3463846792028251,4.3795602136248881,4.4127357480469502,4.4459112824690141,4.4790868168910762,4.5122623513131392,4.5454378857352022,4.5786134201572652,4.6117889545793282,4.6449644890013904,4.6781400234234543,4.7113155578455164,4.7444910922675794,4.7776666266896424,4.8108421611117054,4.8440176955337684,4.8771932299558305,4.9103687643778944,4.9435442987999565,4.9767198332220195,5.0098953676440825,5.0430709020661455],"y":[72.771057251454081,71.100017637982958,69.478971426657694,67.908093368454473,66.387558214349582,64.917540715319319,63.498215622339956,62.129757686387677,60.812341658438768,59.546142289469543,58.331334330456187,57.168092532374999,56.056591646202229,54.997006422914133,53.989511613486975,53.034281968897034,52.131492240120529,51.281317178133726,50.483909315426089,49.738869871787557,49.045738664759426,48.404178901531381,47.813853789293063,47.274426535234106,46.785560346544194,46.346918430412948,45.958163994030045,45.619149607399073,45.330603433067367,45.090294609204101,44.895352711829851,44.742907316965237,44.630088000630842,44.554024338847277,44.511845907635156,44.500682283015038,44.537219169869452,44.636373828738272,44.780670262020628,44.952453266284799,45.134067638099104,45.330187907610075,45.699681481741592,46.221488551031705,46.826865834410839,47.447070050809465,48.013357919158018,48.456986158386933,48.763148049051374,49.021143763294525,49.250083766716948,49.466169757368995,49.685603433301026,49.924586492563435,50.199320633206561,50.526007553280785,50.914783621104398,51.317936052267569,51.723886389134933,52.13538193317806,52.555169985868538,52.985997848677989,53.430612823077936,53.891762210540008,54.372193312535785,54.874653430536831,55.401883879276753,55.952493807831935,56.523480256067089,57.114355128393747,57.724630329223558,58.353817762968106,59.001429334039003,59.666976946847804,60.349972505806129,61.049927915325611,61.766355079817778,62.498765903694284,63.246672291366714,64.009586147246665],"text":["gdp_pc: 2.422204<br />flfp: 72.77106","gdp_pc: 2.455379<br />flfp: 71.10002","gdp_pc: 2.488555<br />flfp: 69.47897","gdp_pc: 2.521730<br />flfp: 67.90809","gdp_pc: 2.554906<br />flfp: 66.38756","gdp_pc: 2.588081<br />flfp: 64.91754","gdp_pc: 2.621257<br />flfp: 63.49822","gdp_pc: 2.654432<br />flfp: 62.12976","gdp_pc: 2.687608<br />flfp: 60.81234","gdp_pc: 2.720783<br />flfp: 59.54614","gdp_pc: 2.753959<br />flfp: 58.33133","gdp_pc: 2.787135<br />flfp: 57.16809","gdp_pc: 2.820310<br />flfp: 56.05659","gdp_pc: 2.853486<br />flfp: 54.99701","gdp_pc: 2.886661<br />flfp: 53.98951","gdp_pc: 2.919837<br />flfp: 53.03428","gdp_pc: 2.953012<br />flfp: 52.13149","gdp_pc: 2.986188<br />flfp: 51.28132","gdp_pc: 3.019363<br />flfp: 50.48391","gdp_pc: 3.052539<br />flfp: 49.73887","gdp_pc: 3.085714<br />flfp: 49.04574","gdp_pc: 3.118890<br />flfp: 48.40418","gdp_pc: 3.152065<br />flfp: 47.81385","gdp_pc: 3.185241<br />flfp: 47.27443","gdp_pc: 3.218417<br />flfp: 46.78556","gdp_pc: 3.251592<br />flfp: 46.34692","gdp_pc: 3.284768<br />flfp: 45.95816","gdp_pc: 3.317943<br />flfp: 45.61915","gdp_pc: 3.351119<br />flfp: 45.33060","gdp_pc: 3.384294<br />flfp: 45.09029","gdp_pc: 3.417470<br />flfp: 44.89535","gdp_pc: 3.450645<br />flfp: 44.74291","gdp_pc: 3.483821<br />flfp: 44.63009","gdp_pc: 3.516996<br />flfp: 44.55402","gdp_pc: 3.550172<br />flfp: 44.51185","gdp_pc: 3.583347<br />flfp: 44.50068","gdp_pc: 3.616523<br />flfp: 44.53722","gdp_pc: 3.649698<br />flfp: 44.63637","gdp_pc: 3.682874<br />flfp: 44.78067","gdp_pc: 3.716050<br />flfp: 44.95245","gdp_pc: 3.749225<br />flfp: 45.13407","gdp_pc: 3.782401<br />flfp: 45.33019","gdp_pc: 3.815576<br />flfp: 45.69968","gdp_pc: 3.848752<br />flfp: 46.22149","gdp_pc: 3.881927<br />flfp: 46.82687","gdp_pc: 3.915103<br />flfp: 47.44707","gdp_pc: 3.948278<br />flfp: 48.01336","gdp_pc: 3.981454<br />flfp: 48.45699","gdp_pc: 4.014629<br />flfp: 48.76315","gdp_pc: 4.047805<br />flfp: 49.02114","gdp_pc: 4.080980<br />flfp: 49.25008","gdp_pc: 4.114156<br />flfp: 49.46617","gdp_pc: 4.147331<br />flfp: 49.68560","gdp_pc: 4.180507<br />flfp: 49.92459","gdp_pc: 4.213683<br />flfp: 50.19932","gdp_pc: 4.246858<br />flfp: 50.52601","gdp_pc: 4.280034<br />flfp: 50.91478","gdp_pc: 4.313209<br />flfp: 51.31794","gdp_pc: 4.346385<br />flfp: 51.72389","gdp_pc: 4.379560<br />flfp: 52.13538","gdp_pc: 4.412736<br />flfp: 52.55517","gdp_pc: 4.445911<br />flfp: 52.98600","gdp_pc: 4.479087<br />flfp: 53.43061","gdp_pc: 4.512262<br />flfp: 53.89176","gdp_pc: 4.545438<br />flfp: 54.37219","gdp_pc: 4.578613<br />flfp: 54.87465","gdp_pc: 4.611789<br />flfp: 55.40188","gdp_pc: 4.644964<br />flfp: 55.95249","gdp_pc: 4.678140<br />flfp: 56.52348","gdp_pc: 4.711316<br />flfp: 57.11436","gdp_pc: 4.744491<br />flfp: 57.72463","gdp_pc: 4.777667<br />flfp: 58.35382","gdp_pc: 4.810842<br />flfp: 59.00143","gdp_pc: 4.844018<br />flfp: 59.66698","gdp_pc: 4.877193<br />flfp: 60.34997","gdp_pc: 4.910369<br />flfp: 61.04993","gdp_pc: 4.943544<br />flfp: 61.76636","gdp_pc: 4.976720<br />flfp: 62.49877","gdp_pc: 5.009895<br />flfp: 63.24667","gdp_pc: 5.043071<br />flfp: 64.00959"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.7795275590551185,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.4222036827231785,2.4553792171452415,2.4885547515673041,2.5217302859893671,2.5549058204114301,2.5880813548334931,2.6212568892555557,2.6544324236776187,2.6876079580996817,2.7207834925217442,2.7539590269438072,2.7871345613658702,2.8203100957879332,2.8534856302099958,2.8866611646320588,2.9198366990541214,2.9530122334761844,2.9861877678982474,3.0193633023203104,3.0525388367423729,3.0857143711644359,3.1188899055864989,3.1520654400085615,3.1852409744306245,3.2184165088526875,3.2515920432747505,3.284767577696813,3.317943112118876,3.3511186465409391,3.3842941809630016,3.4174697153850646,3.4506452498071276,3.4838207842291906,3.5169963186512532,3.5501718530733162,3.5833473874953787,3.6165229219174417,3.6496984563395047,3.6828739907615677,3.7160495251836307,3.7492250596056933,3.7824005940277563,3.8155761284498189,3.8487516628718819,3.8819271972939449,3.9151027317160079,3.9482782661380709,3.9814538005601334,4.014629334982196,4.047804869404259,4.080980403826322,4.114155938248385,4.147331472670448,4.180507007092511,4.213682541514574,4.2468580759366361,4.2800336103586991,4.3132091447807621,4.3463846792028251,4.3795602136248881,4.4127357480469502,4.4459112824690141,4.4790868168910762,4.5122623513131392,4.5454378857352022,4.5786134201572652,4.6117889545793282,4.6449644890013904,4.6781400234234543,4.7113155578455164,4.7444910922675794,4.7776666266896424,4.8108421611117054,4.8440176955337684,4.8771932299558305,4.9103687643778944,4.9435442987999565,4.9767198332220195,5.0098953676440825,5.0430709020661455,5.0430709020661455,5.0430709020661455,5.0098953676440825,4.9767198332220195,4.9435442987999565,4.9103687643778944,4.8771932299558305,4.8440176955337684,4.8108421611117054,4.7776666266896424,4.7444910922675794,4.7113155578455164,4.6781400234234543,4.6449644890013904,4.6117889545793282,4.5786134201572652,4.5454378857352022,4.5122623513131392,4.4790868168910762,4.4459112824690141,4.4127357480469502,4.3795602136248881,4.3463846792028251,4.3132091447807621,4.2800336103586991,4.2468580759366361,4.213682541514574,4.180507007092511,4.147331472670448,4.114155938248385,4.080980403826322,4.047804869404259,4.014629334982196,3.9814538005601334,3.9482782661380709,3.9151027317160079,3.8819271972939449,3.8487516628718819,3.8155761284498189,3.7824005940277563,3.7492250596056933,3.7160495251836307,3.6828739907615677,3.6496984563395047,3.6165229219174417,3.5833473874953787,3.5501718530733162,3.5169963186512532,3.4838207842291906,3.4506452498071276,3.4174697153850646,3.3842941809630016,3.3511186465409391,3.317943112118876,3.284767577696813,3.2515920432747505,3.2184165088526875,3.1852409744306245,3.1520654400085615,3.1188899055864989,3.0857143711644359,3.0525388367423729,3.0193633023203104,2.9861877678982474,2.9530122334761844,2.9198366990541214,2.8866611646320588,2.8534856302099958,2.8203100957879332,2.7871345613658702,2.7539590269438072,2.7207834925217442,2.6876079580996817,2.6544324236776187,2.6212568892555557,2.5880813548334931,2.5549058204114301,2.5217302859893671,2.4885547515673041,2.4553792171452415,2.4222036827231785,2.4222036827231785],"y":[59.153422767806013,58.525008608396263,57.89690867679424,57.267960536797865,56.636814709681985,56.001909077947687,55.361449144845857,54.713403871879144,54.055533618832825,53.38547573536173,52.700922472242986,51.999928704476574,51.281371115455151,50.545531053184597,49.794687982866236,49.033523763491075,48.269123785781744,47.510476288442348,46.767858512118558,46.055998505863926,45.382102001851514,44.748177000209267,44.155119107516782,43.604133318545557,43.097650598432097,42.639704718286794,42.235800071530726,41.895861410527324,41.650457646689922,41.479949181004265,41.351737981096051,41.239240715131459,41.129089880187053,41.024790222382535,40.944865367823958,40.916480565265942,40.983182040263763,41.129352527512225,41.288093972525914,41.427256774581082,41.55869370152508,41.742691470399109,42.146490610456524,42.693074957084761,43.268919876113692,43.797675849314857,44.244577764656093,44.60098767074458,44.894732596965653,45.182011190161838,45.450567536795965,45.691600783756023,45.908405800863207,46.119816529757031,46.358895338321005,46.667258040697455,47.07730463943092,47.519690688498599,47.970677268820616,48.427963502840264,48.889085132499503,49.351371076563566,49.81180473997739,50.266804993200608,50.711965665502589,51.141823467750235,51.549739713428913,51.922619749221042,52.247524926112291,52.518380768542315,52.732263366720645,52.888916410788582,52.989939285149674,53.037975171567972,53.03608419629002,52.987341404716204,52.894619760434665,52.760497553096783,52.587238241901339,52.376807078920947,52.376807078920947,75.642365215572383,73.906106340832096,72.237034254291785,70.638090399200891,69.112514425935018,67.663860815322238,66.295978722127629,65.012919382928331,63.81871911514763,62.716997291726472,61.710329488245179,60.799435586021886,59.982367866442829,59.254028045124592,58.607483393323427,58.032420959568981,57.516719427879408,57.049420906178483,56.620624620792412,56.221254839237574,55.842800363515856,55.477095509449249,55.11618141603654,54.752262602777876,54.384757065864115,54.039745928092117,53.729356455369839,53.462801065738844,53.240738730981967,53.04959999663793,52.860276336427212,52.631563501137094,52.312984646029285,51.782138073659944,51.096464252304074,50.384811792707985,49.749902144978648,49.25287235302666,48.917684344821041,48.709441574673129,48.477649757988516,48.273246551515342,48.143395129964318,48.091256299475141,48.084884000764134,48.078826447446353,48.08325845531202,48.131086121074631,48.246573918799015,48.438967442563651,48.700640037403936,49.010749219444811,49.342437804270823,49.680527916529364,50.054132142539103,50.473470094656292,50.944719751922655,51.472588471069344,52.060180802853495,52.709375327667338,53.421741237711188,54.199960118733621,55.052158067825104,55.993860694459315,57.035040174302992,58.184335244107714,59.448481792643669,60.831812176949306,62.336256360273424,63.961746188669387,65.706808843577363,67.569149698044711,69.546111500896203,71.634982099834062,73.833172352690951,76.138301719017178,78.548226200111088,81.061034176521147,83.675026667569654,86.388691735102157,59.153422767806013],"text":["gdp_pc: 2.422204<br />flfp: 72.77106","gdp_pc: 2.455379<br />flfp: 71.10002","gdp_pc: 2.488555<br />flfp: 69.47897","gdp_pc: 2.521730<br />flfp: 67.90809","gdp_pc: 2.554906<br />flfp: 66.38756","gdp_pc: 2.588081<br />flfp: 64.91754","gdp_pc: 2.621257<br />flfp: 63.49822","gdp_pc: 2.654432<br />flfp: 62.12976","gdp_pc: 2.687608<br />flfp: 60.81234","gdp_pc: 2.720783<br />flfp: 59.54614","gdp_pc: 2.753959<br />flfp: 58.33133","gdp_pc: 2.787135<br />flfp: 57.16809","gdp_pc: 2.820310<br />flfp: 56.05659","gdp_pc: 2.853486<br />flfp: 54.99701","gdp_pc: 2.886661<br />flfp: 53.98951","gdp_pc: 2.919837<br />flfp: 53.03428","gdp_pc: 2.953012<br />flfp: 52.13149","gdp_pc: 2.986188<br />flfp: 51.28132","gdp_pc: 3.019363<br />flfp: 50.48391","gdp_pc: 3.052539<br />flfp: 49.73887","gdp_pc: 3.085714<br />flfp: 49.04574","gdp_pc: 3.118890<br />flfp: 48.40418","gdp_pc: 3.152065<br />flfp: 47.81385","gdp_pc: 3.185241<br />flfp: 47.27443","gdp_pc: 3.218417<br />flfp: 46.78556","gdp_pc: 3.251592<br />flfp: 46.34692","gdp_pc: 3.284768<br />flfp: 45.95816","gdp_pc: 3.317943<br />flfp: 45.61915","gdp_pc: 3.351119<br />flfp: 45.33060","gdp_pc: 3.384294<br />flfp: 45.09029","gdp_pc: 3.417470<br />flfp: 44.89535","gdp_pc: 3.450645<br />flfp: 44.74291","gdp_pc: 3.483821<br />flfp: 44.63009","gdp_pc: 3.516996<br />flfp: 44.55402","gdp_pc: 3.550172<br />flfp: 44.51185","gdp_pc: 3.583347<br />flfp: 44.50068","gdp_pc: 3.616523<br />flfp: 44.53722","gdp_pc: 3.649698<br />flfp: 44.63637","gdp_pc: 3.682874<br />flfp: 44.78067","gdp_pc: 3.716050<br />flfp: 44.95245","gdp_pc: 3.749225<br />flfp: 45.13407","gdp_pc: 3.782401<br />flfp: 45.33019","gdp_pc: 3.815576<br />flfp: 45.69968","gdp_pc: 3.848752<br />flfp: 46.22149","gdp_pc: 3.881927<br />flfp: 46.82687","gdp_pc: 3.915103<br />flfp: 47.44707","gdp_pc: 3.948278<br />flfp: 48.01336","gdp_pc: 3.981454<br />flfp: 48.45699","gdp_pc: 4.014629<br />flfp: 48.76315","gdp_pc: 4.047805<br />flfp: 49.02114","gdp_pc: 4.080980<br />flfp: 49.25008","gdp_pc: 4.114156<br />flfp: 49.46617","gdp_pc: 4.147331<br />flfp: 49.68560","gdp_pc: 4.180507<br />flfp: 49.92459","gdp_pc: 4.213683<br />flfp: 50.19932","gdp_pc: 4.246858<br />flfp: 50.52601","gdp_pc: 4.280034<br />flfp: 50.91478","gdp_pc: 4.313209<br />flfp: 51.31794","gdp_pc: 4.346385<br />flfp: 51.72389","gdp_pc: 4.379560<br />flfp: 52.13538","gdp_pc: 4.412736<br />flfp: 52.55517","gdp_pc: 4.445911<br />flfp: 52.98600","gdp_pc: 4.479087<br />flfp: 53.43061","gdp_pc: 4.512262<br />flfp: 53.89176","gdp_pc: 4.545438<br />flfp: 54.37219","gdp_pc: 4.578613<br />flfp: 54.87465","gdp_pc: 4.611789<br />flfp: 55.40188","gdp_pc: 4.644964<br />flfp: 55.95249","gdp_pc: 4.678140<br />flfp: 56.52348","gdp_pc: 4.711316<br />flfp: 57.11436","gdp_pc: 4.744491<br />flfp: 57.72463","gdp_pc: 4.777667<br />flfp: 58.35382","gdp_pc: 4.810842<br />flfp: 59.00143","gdp_pc: 4.844018<br />flfp: 59.66698","gdp_pc: 4.877193<br />flfp: 60.34997","gdp_pc: 4.910369<br />flfp: 61.04993","gdp_pc: 4.943544<br />flfp: 61.76636","gdp_pc: 4.976720<br />flfp: 62.49877","gdp_pc: 5.009895<br />flfp: 63.24667","gdp_pc: 5.043071<br />flfp: 64.00959","gdp_pc: 5.043071<br />flfp: 64.00959","gdp_pc: 5.043071<br />flfp: 64.00959","gdp_pc: 5.009895<br />flfp: 63.24667","gdp_pc: 4.976720<br />flfp: 62.49877","gdp_pc: 4.943544<br />flfp: 61.76636","gdp_pc: 4.910369<br />flfp: 61.04993","gdp_pc: 4.877193<br />flfp: 60.34997","gdp_pc: 4.844018<br />flfp: 59.66698","gdp_pc: 4.810842<br />flfp: 59.00143","gdp_pc: 4.777667<br />flfp: 58.35382","gdp_pc: 4.744491<br />flfp: 57.72463","gdp_pc: 4.711316<br />flfp: 57.11436","gdp_pc: 4.678140<br />flfp: 56.52348","gdp_pc: 4.644964<br />flfp: 55.95249","gdp_pc: 4.611789<br />flfp: 55.40188","gdp_pc: 4.578613<br />flfp: 54.87465","gdp_pc: 4.545438<br />flfp: 54.37219","gdp_pc: 4.512262<br />flfp: 53.89176","gdp_pc: 4.479087<br />flfp: 53.43061","gdp_pc: 4.445911<br />flfp: 52.98600","gdp_pc: 4.412736<br />flfp: 52.55517","gdp_pc: 4.379560<br />flfp: 52.13538","gdp_pc: 4.346385<br />flfp: 51.72389","gdp_pc: 4.313209<br />flfp: 51.31794","gdp_pc: 4.280034<br />flfp: 50.91478","gdp_pc: 4.246858<br />flfp: 50.52601","gdp_pc: 4.213683<br />flfp: 50.19932","gdp_pc: 4.180507<br />flfp: 49.92459","gdp_pc: 4.147331<br />flfp: 49.68560","gdp_pc: 4.114156<br />flfp: 49.46617","gdp_pc: 4.080980<br />flfp: 49.25008","gdp_pc: 4.047805<br />flfp: 49.02114","gdp_pc: 4.014629<br />flfp: 48.76315","gdp_pc: 3.981454<br />flfp: 48.45699","gdp_pc: 3.948278<br />flfp: 48.01336","gdp_pc: 3.915103<br />flfp: 47.44707","gdp_pc: 3.881927<br />flfp: 46.82687","gdp_pc: 3.848752<br />flfp: 46.22149","gdp_pc: 3.815576<br />flfp: 45.69968","gdp_pc: 3.782401<br />flfp: 45.33019","gdp_pc: 3.749225<br />flfp: 45.13407","gdp_pc: 3.716050<br />flfp: 44.95245","gdp_pc: 3.682874<br />flfp: 44.78067","gdp_pc: 3.649698<br />flfp: 44.63637","gdp_pc: 3.616523<br />flfp: 44.53722","gdp_pc: 3.583347<br />flfp: 44.50068","gdp_pc: 3.550172<br />flfp: 44.51185","gdp_pc: 3.516996<br />flfp: 44.55402","gdp_pc: 3.483821<br />flfp: 44.63009","gdp_pc: 3.450645<br />flfp: 44.74291","gdp_pc: 3.417470<br />flfp: 44.89535","gdp_pc: 3.384294<br />flfp: 45.09029","gdp_pc: 3.351119<br />flfp: 45.33060","gdp_pc: 3.317943<br />flfp: 45.61915","gdp_pc: 3.284768<br />flfp: 45.95816","gdp_pc: 3.251592<br />flfp: 46.34692","gdp_pc: 3.218417<br />flfp: 46.78556","gdp_pc: 3.185241<br />flfp: 47.27443","gdp_pc: 3.152065<br />flfp: 47.81385","gdp_pc: 3.118890<br />flfp: 48.40418","gdp_pc: 3.085714<br />flfp: 49.04574","gdp_pc: 3.052539<br />flfp: 49.73887","gdp_pc: 3.019363<br />flfp: 50.48391","gdp_pc: 2.986188<br />flfp: 51.28132","gdp_pc: 2.953012<br />flfp: 52.13149","gdp_pc: 2.919837<br />flfp: 53.03428","gdp_pc: 2.886661<br />flfp: 53.98951","gdp_pc: 2.853486<br />flfp: 54.99701","gdp_pc: 2.820310<br />flfp: 56.05659","gdp_pc: 2.787135<br />flfp: 57.16809","gdp_pc: 2.753959<br />flfp: 58.33133","gdp_pc: 2.720783<br />flfp: 59.54614","gdp_pc: 2.687608<br />flfp: 60.81234","gdp_pc: 2.654432<br />flfp: 62.12976","gdp_pc: 2.621257<br />flfp: 63.49822","gdp_pc: 2.588081<br />flfp: 64.91754","gdp_pc: 2.554906<br />flfp: 66.38756","gdp_pc: 2.521730<br />flfp: 67.90809","gdp_pc: 2.488555<br />flfp: 69.47897","gdp_pc: 2.455379<br />flfp: 71.10002","gdp_pc: 2.422204<br />flfp: 72.77106","gdp_pc: 2.422204<br />flfp: 72.77106"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826498,"l":43.105022831050235},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Wealth and female labor force participation","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2.2911603217560303,5.1741142630332941],"tickmode":"array","ticktext":["$1,000","$10,000","$100,000"],"tickvals":[3,4,5],"categoryorder":"array","categoryarray":["$1,000","$10,000","$100,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"GDP per Capita","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1.9060154132448925,90.411676321857271],"tickmode":"array","ticktext":["25%","50%","75%"],"tickvals":[25,50,75],"categoryorder":"array","categoryarray":["25%","50%","75%"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Female Labor Force Participation","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Region","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative","annotations":[{"text":"Source: World Bank Development Indicators","font":{"size":10},"showarrow":false,"xref":"paper","x":1.1000000000000001,"xanchor":"right","xshift":0,"yref":"paper","y":-0.10000000000000001,"yanchor":"auto","yshift":0},{"text":"www.dataviz-gwu.rocks","font":{"size":10,"color":"grey"},"showarrow":false,"xref":"paper","x":0.5,"xanchor":"center","xshift":0,"yref":"paper","y":1,"yanchor":"top","yshift":0},{"text":"www.dataviz-gwu.rocks","font":{"size":10,"color":"grey"},"showarrow":false,"xref":"paper","x":0.5,"xanchor":"center","xshift":0,"yref":"paper","y":1,"yanchor":"top","yshift":0}]},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"bdee509f5dd5":{"label":{},"x":{},"y":{},"colour":{},"type":"scatter"},"bdeeec9744d":{"label":{},"x":{},"y":{}}},"cur_data":"bdee509f5dd5","visdat":{"bdee509f5dd5":["function (y) ","x"],"bdeeec9744d":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Notice that <code>plotly</code> has some fairly unique syntax for the <code>layout()</code> function. It helps to <a href="https://plotly.com/python/reference/layout/annotations/#layout-annotations">read the documentation</a> but also to search around on google and Stack Overflow. Each annotation needs to be inputted in a list format. The first time in the list is the text you want to include in the annotation. From there you can include multiple arguments to specify the font size and location of the annotation.</p>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/dataviz-gwu\.rocks");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2024, <a href="https://emmanuel.teitelbaum.com">Emmanuel Teitelbaum</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/eteitelbaum/dataviz-summer-2023/edit/main/modules/module-2.22.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/eteitelbaum/dataviz-summer-2023/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This page is built with <a href="https://quarto.org/">Quarto</a>. 👷🛠️</p>
</div>
  </div>
</footer>


</body></html>