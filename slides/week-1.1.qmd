---
title: "Quantitative Analysis for IA Practitioners"
subtitle: "IAFF 6501"
#author:  "Eric Kramon"
footer: "[IAFF 6501 Website](https://quant4ia.rocks)"
logo: images/iaff6501-logo.png
format:
  revealjs:
    theme: [simple, custom.scss]
    transition: fade
    slide-number: true
    #multiplex: true
    chalkboard: true
execute:
  echo: false
  message: false
  warning: false
  freeze: auto
---

## Welcome!

<br>

| Professor Teitelbaum [ejt@gwu.edu](mailto:ejt@gwu.edu)
| Office Hours: Tuesdays, 12:30-2:30 p.m.
| Monroe Hall Rm 411 or online
| Go to my [calendly page](https://calendly.com/emmanuel-teitelbaum) to sign up for a slot 

## Teaching Assistants

<br>

| Yuchen Zhao 
| email: [yuchen.zhao1@gwu.edu](mailto:yuchen.zhao1@gmail.com) 

<br>

| Jeffrey Kuo
| email: [jeffkuo@gwu.edu](mailto:jeffkuo@gmail.com)

## Sections of the Course

::: incremental
1.  Data Visualization
    -   Summarizing and communicating effectively with data
2.  Statistical Inference
    -   Making rigorous conclusions from data
3.  Modeling
    -   For prediction and forecasting
    -   For drawing causal conclusions
:::

## 

<br>

![](images/MLP.jpg)

::: notes
MLP\'s digital tools provide fine-grained data tracking and forecasting major political events across nearly 60 countries by continuously scraping and process tens of millions of articles published by more than 300 local, regional, and international news sources in more than 30 languages. This infrastructure provides up-to-date data on recent and historical trends in civic space and foreign influence and builds forecasting models that learn from historical patterns to predict how conditions are likely to change in the near future.
:::

## 

<br>

![](images/CSO.jpg)

## 

<br>

![](images/dime.jpg) 

## 

<br>

![](images/usaid.jpg)

## Skills/knowledge you will pick up along the way


::: {.incremental}
1.  R coding skills (and RStudio), with focus on "tidy" approach and reproducible research
2.  Quarto (html documents, PDFs, presentations, websites, books, blogs, ...)
3.  How to access and "clean" data so that you can analyze it
4.  When you hear terms like "machine learning", you'll have some sense of what people are talking about
:::

## How do I get an A? (requirements)

<br>

- Weekly quizzes (20 percent)
- 3 Data Analysis Assignments (45 percent; 15 percent each)
- Final Project (20 percent)

## Course Website

<br>

-   [https://quant4ia.rocks](https://quant4ia.rocks)
-   Let's take a quick tour!

## Install R and RStudio

- 
- 

## Set up RStudio {.smaller}

-   Go to Tools\>Global Options
-   Under Code, enable native pipe operator (`|>`)
-   Under Appearance, choose a theme
-   Configure panes
    -   Go to Pane Layout
    -   Move Source, Console, etc. to preferred positions
    
## Illustration



```{r}
#| label: timer1

library(countdown)
countdown(minutes = 5, 
          id = "timer1", 
          top = "0%",
          right = "5%",
          color_border = "#fff",
          color_text = "#fff",
          color_running_background = "#42affa",
          color_running_text = "black",
          color_finished_background = "#E5D19D",
          color_finished_text = "#00264A")
```
    
## Install key packages

-   Install the Tidyverse group of packages from the console
    -   `install.packages("tidyverse")`
-   Install `devtools`
    -   `install.packages("devtools")`)
-   Install tinytex (for PDF rendering)
    - Go to your terminal and type `quarto install tinytex`

## Illustration



## Let's get going . . .

<br>

Your first data visualizations...

(and making sure we have R and RStudio installed and ready to roll)


## Example: Make a map!

```{r}
#| label: leaflet_map

library(leaflet)
leaflet() %>% 
  addTiles() %>%   # Add default OpenStreetMap map tiles
  addMarkers(lat = 38.90243843683386, lng =  -77.0443814477152, 
             label = "Elliott School of International Affairs")
```


## Example: Plotting Democracy Over Time

```{r}
#| label: plot_democracy

# For nice colors that work for color blind
cbPalette <- c("#999999", "#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")

library(vdemdata)
library(ggplot2)
library(tidyverse)
# We will use the data called vdem
vdem %>%
  # and then we are going to filter out and only use France and India
  filter(country_name == "France" | country_name == "India") %>%
  # and then we are going to only use years since 1850
  filter(year > 1849) %>% 
    # and then we are going to use this filtered data to make a plot
    #with democracy on the y axis and year on the x
    # we want this plot to use different colors for each country
    ggplot(., aes(y = v2x_polyarchy, x = year, color=country_name)) +
      geom_line() +
      theme_minimal() +
      xlab("Year") +
      ylab("Electoral Democracy Index") +
      ggtitle("Electoral Democracy, 1850-2022") +
      geom_hline(yintercept = .5, linetype = "dashed", color = "grey") +
       scale_color_manual(name="Country", values=c("#E69F00", "#56B4E9")) +
      ylim(0, 1)
```

## Example: UN Voting Trends

```{r}
#| label: un_voting

library(tidyverse)
library(unvotes)
library(lubridate)
library(scales)
library(pacman)

unvotes <- un_votes %>%
  inner_join(un_roll_calls, by = "rcid") %>%
  inner_join(un_roll_call_issues, by = "rcid")

unvotes %>%
  # then filter out to only include the countries we want
  filter(country %in% c("South Africa", "United States", "France")) %>%
  # then make sure R understands the the year variable is a data
  mutate(year = year(date)) %>%
  # Then group the data by country and year
  group_by(country, year, issue) %>%
  # then take the average Yes votes for each country_year
  summarize(percent_yes = mean(vote == "yes")) %>%
  # then make a nice plot
  ggplot(mapping = aes(x = year, y = percent_yes, color = country)) +
  geom_point(alpha = 0.4) +
  geom_smooth(method = "loess", se = FALSE) +
  facet_wrap(~issue) +
  scale_y_continuous(labels = percent) +
  scale_color_manual( values=c("#E69F00", "#56B4E9", "#009E73")) +
  labs(
    title = "Percentage of 'Yes' votes in the UN General Assembly",
    subtitle = "1946 to 2019",
    y = "% Yes",
    x = "Year",
    color = "Country"
  )
```


## Your Task {.smaller}

-   Make sure R and RStudio installed (we can help if needed)
-   Create a folder for this class somewhere on your machine.
    - Create a sub-folder called "classwork"
    - save week1-classwork.qmd in that folder
-   Open the week1-classwork.qmd file in RStudio, which has code for 3 data viz activities
    -   Map making
    -   Democracy Over Time
    -   UN Voting patterns
-   Follow the instructions to update the code
-   Click Render to update your HTML output and examine
-   Complete as much as you can (no problem if you do not finish)
